<!DOCTYPE html>
<html lang="pt"><head>
<script src="03_RLM_files/libs/clipboard/clipboard.min.js"></script>
<script src="03_RLM_files/libs/quarto-html/tabby.min.js"></script>
<script src="03_RLM_files/libs/quarto-html/popper.min.js"></script>
<script src="03_RLM_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="03_RLM_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="03_RLM_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="03_RLM_files/libs/quarto-html/quarto-syntax-highlighting-985aa47af68dae11cd4d235c71fb941e.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.27">

  <meta name="author" content="Luiz Droubi">
  <title>Avaliação em Massa</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="03_RLM_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="03_RLM_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="03_RLM_files/libs/revealjs/dist/theme/quarto-edcff130eb01ac5e239e676278bbed8d.css">
  <link href="03_RLM_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="03_RLM_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="03_RLM_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="03_RLM_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="03_RLM_files/libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="03_RLM_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/PPT_abertura.png" data-footer="<a href='http://www.valoristica.com.br'>http://www.valoristica.com.br</a>" class="quarto-title-block center">
  <h1 class="title">Avaliação em Massa</h1>
  <p class="subtitle"><em>Regressão Linear Múltipla</em></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Luiz Droubi 
</div>
        <p class="quarto-title-affiliation">
            Academia da Engenharia de Avaliações
          </p>
    </div>
</div>

  <p class="date">27 de julho de 2025</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Índice</h2>
<ul>
<li class="fragment"><a href="#/regressão-linear-múltipla" id="/toc-regressão-linear-múltipla">Regressão Linear Múltipla</a></li>
<li class="fragment"><a href="#/pontos-influenciantes" id="/toc-pontos-influenciantes">Pontos Influenciantes</a></li>
<li class="fragment"><a href="#/análise-gráfica-de-resíduos" id="/toc-análise-gráfica-de-resíduos">Análise Gráfica de Resíduos</a></li>
<li class="fragment"><a href="#/viés" id="/toc-viés">Viés</a></li>
<li class="fragment"><a href="#/sobreajustamento" id="/toc-sobreajustamento">Sobreajustamento</a></li>
<li class="fragment"><a href="#/qualidade-de-ajuste" id="/toc-qualidade-de-ajuste">Qualidade de ajuste</a></li>
<li class="fragment"><a href="#/reamostragem" id="/toc-reamostragem">Reamostragem</a></li>
<li class="fragment"><a href="#/r2-preditivo" id="/toc-r2-preditivo"><span class="math inline">\(R^2\)</span> preditivo</a></li>
</ul>
</nav>
</section>
<section>
<section id="regressão-linear-múltipla" class="title-slide slide level1 center">
<h1>Regressão Linear Múltipla</h1>

</section>
<section id="regressão-linear-múltipla-1" class="slide level2">
<h2>Regressão Linear Múltipla</h2>
<ul>
<li class="fragment">Na forma escalar, a equação de regressão linear múltipla (RLM) pode ser escrita:
<ul>
<li class="fragment"><span id="eq-RLM"><span class="math display">\[\mathbf y = \beta_0 + \beta_1 \pmb X_1 + \beta_2 \pmb X_2 + \ldots + \beta_k \pmb X_k + \pmb \epsilon \qquad(1)\]</span></span>
<ul>
<li class="fragment">A solução da equação <a href="#/eq-RLM" class="quarto-xref">Equação&nbsp;1</a> leva a valores <span class="math inline">\(\hat \beta_0, \hat \beta_1, \ldots , \hat \beta_k\)</span> que minimizam a Soma do Quadrado dos Erros (SQE):
<ul>
<li class="fragment"><span class="math display">\[\hat{\mathbf y} = \hat \beta_0 + \hat \beta_1 \pmb X_1 + \hat \beta_2 \pmb X_2 + \ldots + \hat \beta_k \pmb X_k\]</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="fragment">Na forma matricial, a equação <a href="#/eq-RLM" class="quarto-xref">Equação&nbsp;1</a> pode ser reescrita:
<ul>
<li class="fragment"><span id="eq-RLM2"><span class="math display">\[\mathbf y = \pmb{X \beta} + \pmb \epsilon \qquad(2)\]</span></span></li>
</ul></li>
<li class="fragment">E a solução que minimiza SQE é <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 3</a>)</span>:
<ul>
<li class="fragment"><span id="eq-betaEstimation"><span class="math display">\[\pmb{\hat\beta}_{OLS} = (\mathbf{X^T X})^{-1}\mathbf X^T \mathbf y \qquad(3)\]</span></span></li>
</ul></li>
</ul>
</section>
<section id="revisão-de-regressão-linear-múltipla" class="slide level2">
<h2>Revisão de Regressão Linear Múltipla</h2>
<p><span id="eq-MRLC"><span class="math display">\[\mathbf y =  \pmb{X \beta} + \pmb \epsilon \qquad(4)\]</span></span></p>
<div class="columns">
<div class="column" style="width:20%;">
<p><span class="math display">\[
\mathbf y = \begin{Bmatrix}
y_1 \\
y_2 \\
\vdots  \\
y_n
\end{Bmatrix}
\]</span></p>
</div><div class="column" style="width:40%;">
<p><span class="math display">\[
\mathbf X = \begin{Bmatrix}
1      &amp; x_{11} &amp; x_{21} &amp; \cdots &amp;  x_{k1}\\
1      &amp; x_{12} &amp; x_{22} &amp; \cdots &amp;  x_{k2}\\
\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp;  \vdots\\
1      &amp; x_{1n} &amp; x_{2n} &amp; \cdots &amp;  x_{kn}\\
\end{Bmatrix}
\]</span></p>
</div><div class="column" style="width:40%;">
<p><span class="math display">\[
\pmb{\beta} = \begin{Bmatrix}
\beta_0 \\
\beta_1 \\
\vdots  \\
\beta_k
\end{Bmatrix}\quad
\pmb{\epsilon} = \begin{Bmatrix}
\epsilon_1 \\
\epsilon_2 \\
\vdots  \\
\epsilon_n
\end{Bmatrix}
\]</span></p>
</div></div>
</section>
<section id="revisão-de-regressão-linear-múltipla-1" class="slide level2">
<h2>Revisão de Regressão Linear Múltipla</h2>
<ul>
<li class="fragment">Geometricamente, a regressão linear é uma projeção ortogonal dos valores observados no espaço das colunas de <span class="math inline">\(\pmb X\)</span>:</li>
</ul>
<div class="fragment">
<div id="fig-GeometryOLS" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-GeometryOLS-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/OLS_geometric_interpretation.png">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-GeometryOLS-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Interpretação geométrica dos MQO.
</figcaption>
</figure>
</div>
</div>
</section>
<section id="revisão-de-regressão-linear-múltipla-2" class="slide level2">
<h2>Revisão de Regressão Linear Múltipla</h2>
<ul>
<li class="fragment"><p>Os resíduos são a previsão do termo de erro e são a diferença entre os valores observados e ajustados:</p>
<ul>
<li class="fragment"><span id="eq-Residuals"><span class="math display">\[\pmb{\hat\epsilon} = \mathbf y - \mathbf X \pmb{\hat\beta} = \mathbf y - \hat {\mathbf y} \qquad(5)\]</span></span></li>
</ul></li>
<li class="fragment"><p>Os valores previstos podem ser escritos assim:</p>
<ul>
<li class="fragment"><span class="math display">\[\hat{\mathbf y} = \pmb{X \hat\beta}_{OLS} = \mathbf X(\mathbf{X^T X})^{-1}\mathbf X^T \mathbf y\]</span></li>
<li class="fragment"><span id="eq-HatMatrixa"><span class="math display">\[\hat{\mathbf y} = \mathbf{Hy}, \, \text{com } \mathbf H = \mathbf X(\mathbf{X^T X})^{-1}\mathbf X^T \qquad(6)\]</span></span></li>
<li class="fragment"><span class="math inline">\(H\)</span> é conhecida como <em>matriz chapéu</em> ou <em>matriz de projeção</em> <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 6</a>)</span>!</li>
</ul></li>
<li class="fragment"><p>Substituindo a <a href="#/eq-HatMatrixa" class="quarto-xref">Equação&nbsp;6</a> na <a href="#/eq-Residuals" class="quarto-xref">Equação&nbsp;5</a>:</p>
<ul>
<li class="fragment"><span id="eq-ResidY"><span class="math display">\[\pmb{\hat\epsilon} = \mathbf y - \mathbf{Hy} = (\mathbf{I} - \mathbf{H}) \mathbf y \qquad(7)\]</span></span></li>
</ul></li>
</ul>
</section>
<section id="matriz-chapéu" class="slide level2">
<h2>Matriz chapéu</h2>
<p><span class="math display">\[
\mathbf H = \begin{Bmatrix}
h_{11}      &amp; h_{21} &amp; \cdots &amp;  h_{n1}\\
h_{12}      &amp; h_{22} &amp; \cdots &amp;  h_{n2}\\
\vdots &amp; \vdots &amp; \ddots &amp;  \vdots\\
h_{1n}      &amp; h_{2n} &amp; \cdots &amp;  h_{nn}\\
\end{Bmatrix}
\]</span></p>
<ul>
<li class="fragment">Os elementos diagonais da matriz chapéu (<span class="math inline">\(h_{ii}\)</span>) são denominadas <em>alavancagens</em> dos dados!
<ul>
<li class="fragment">As <em>alavancagens</em> representam a contribuição de cada observação da amostra no cômputo do valor ajustado para esta mesma observação.</li>
<li class="fragment">Quanto mais distante uma observação estiver da</li>
</ul></li>
</ul>
</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">library</span>(randomizeR)</span>
<span id="cb1-2"><a href=""></a>M <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(fit)</span>
<span id="cb1-3"><a href=""></a>H <span class="ot">&lt;-</span> randomizeR<span class="sc">:::</span><span class="fu">hatMatrix</span>(M)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">6</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">7</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">8</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">9</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">10</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">11</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">12</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">13</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">14</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">15</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">16</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">17</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">18</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">19</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">20</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">21</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.07</td>
<td style="text-align: right;">-0.03</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.07</td>
<td style="text-align: right;">-0.03</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.02</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.01</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.03</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.07</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.08</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.04</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.07</td>
<td style="text-align: right;">-0.07</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-0.05</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.12</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.09</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="relação-entre-erro-e-resíduos" class="slide level2">
<h2>Relação entre erro e resíduos</h2>
<ul>
<li class="fragment">Substituindo a <a href="#/eq-MRLC" class="quarto-xref">Equação&nbsp;4</a> na <a href="#/eq-ResidY" class="quarto-xref">Equação&nbsp;7</a>, temos:
<ul>
<li class="fragment"><span class="math display">\[\pmb{\hat \epsilon} = (\mathbf{I-H})\mathbf (\mathbf{X\beta} + \pmb{\epsilon})\]</span></li>
</ul></li>
<li class="fragment">A <em>matriz chapéu</em>, <span class="math inline">\(\mathbf H\)</span>, é ortogonal ao espaço vetorial das colunas de <span class="math inline">\(X\)</span>
<ul>
<li class="fragment">Portanto, <span class="math inline">\((\mathbf{I-H})\mathbf (\mathbf{X\beta}) = 0\)</span></li>
<li class="fragment">Então:
<ul>
<li class="fragment"><span class="math display">\[\pmb{\hat \epsilon} = (\mathbf{I-H}) \pmb{\epsilon}\]</span></li>
</ul></li>
</ul></li>
<li class="fragment">Assim, se <span class="math inline">\(\pmb{\epsilon} \sim \mathcal N(0, \sigma^2\mathbf I)\)</span>, então: <span class="math display">\[\pmb{\hat\epsilon} \sim \mathcal N(0, \sigma^2(\mathbf{I-H}))\]</span></li>
</ul>
</section>
<section id="transformações-dos-resíduos" class="slide level2 smaller">
<h2>Transformações dos Resíduos</h2>
<ul>
<li class="fragment">É muito comum fazer:
<ul>
<li class="fragment"><span id="eq-SemiStudRes"><span class="math display">\[r_i = \frac{\hat\epsilon_i}{\hat\sigma} \qquad(8)\]</span></span></li>
</ul></li>
<li class="fragment">Pode-se mostrar, no entanto, que os resíduos padronizados devem ser assim calculados <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 21</a>)</span>:
<ul>
<li class="fragment"><span id="eq-StdRes"><span class="math display">\[r_i = \frac{\hat \epsilon_i}{\hat \sigma \sqrt{1-h_{ii}}} \qquad(9)\]</span></span>
<ul>
<li class="fragment"><span class="math inline">\(\hat \epsilon_i\)</span> é o resíduo calculado pelo modelo</li>
<li class="fragment"><span class="math inline">\(\hat \sigma\)</span> é o erro-padrão da regressão</li>
<li class="fragment"><span class="math inline">\(h_{ii}\)</span> é o <em>i-ésimo</em> elemento da diagonal da matriz chapéu</li>
</ul></li>
</ul></li>
<li class="fragment">Os resíduos da <a href="#/eq-SemiStudRes" class="quarto-xref">Equação&nbsp;8</a> são denominados resíduos <em>semi-studentizados</em></li>
<li class="fragment">Os resíduos da <a href="#/eq-StdRes" class="quarto-xref">Equação&nbsp;9</a> são denominados de resíduos <em>internamente studentizados</em>, ou simplesmente resíduos padronizados!</li>
<li class="fragment">Os resíduos calculados conforme a <a href="#/eq-StdRes" class="quarto-xref">Equação&nbsp;9</a> devem apresentar distribuição normal padrão <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 21</a>)</span>!</li>
</ul>
</section>
<section id="exemplo" class="slide level2">
<h2>Exemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>dados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a href=""></a>  <span class="at">Area =</span> <span class="fu">c</span>(<span class="dv">75</span>, <span class="dv">85</span>, <span class="dv">100</span>, <span class="dv">125</span>, <span class="dv">150</span>, <span class="dv">175</span>, <span class="dv">190</span>, <span class="dv">210</span>, <span class="dv">225</span>),</span>
<span id="cb2-3"><a href=""></a>  <span class="at">Preco =</span> <span class="dv">1000</span><span class="sc">*</span><span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">220</span>, <span class="dv">260</span>, <span class="fl">312.5</span>, <span class="dv">375</span>, <span class="dv">420</span>, <span class="dv">440</span>, <span class="dv">475</span>, <span class="dv">550</span>)</span>
<span id="cb2-4"><a href=""></a>  )</span>
<span id="cb2-5"><a href=""></a>dados<span class="sc">$</span>PU <span class="ot">&lt;-</span> <span class="fu">with</span>(dados, Preco<span class="sc">/</span>Area)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div id="tbl-Exemplo" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-Exemplo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;1: Dados - Exemplo 1.
</figcaption>
<div aria-describedby="tbl-Exemplo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="font-size: 24px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Area</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Preco</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PU</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">75</td>
<td style="text-align: right;">200.000</td>
<td style="text-align: right;">2.666,67</td>
</tr>
<tr class="even">
<td style="text-align: right;">85</td>
<td style="text-align: right;">220.000</td>
<td style="text-align: right;">2.588,24</td>
</tr>
<tr class="odd">
<td style="text-align: right;">100</td>
<td style="text-align: right;">260.000</td>
<td style="text-align: right;">2.600,00</td>
</tr>
<tr class="even">
<td style="text-align: right;">125</td>
<td style="text-align: right;">312.500</td>
<td style="text-align: right;">2.500,00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">150</td>
<td style="text-align: right;">375.000</td>
<td style="text-align: right;">2.500,00</td>
</tr>
<tr class="even">
<td style="text-align: right;">175</td>
<td style="text-align: right;">420.000</td>
<td style="text-align: right;">2.400,00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">190</td>
<td style="text-align: right;">440.000</td>
<td style="text-align: right;">2.315,79</td>
</tr>
<tr class="even">
<td style="text-align: right;">210</td>
<td style="text-align: right;">475.000</td>
<td style="text-align: right;">2.261,90</td>
</tr>
<tr class="odd">
<td style="text-align: right;">225</td>
<td style="text-align: right;">550.000</td>
<td style="text-align: right;">2.444,44</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb3-2"><a href=""></a><span class="fu">abline</span>(<span class="fu">lm</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados), <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-6-1.png" width="432"></p>
</figure>
</div>
</div>
</div>
</div></div>
</div>
</section>
<section id="exemplo-1" class="slide level2">
<h2>Exemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb4-2"><a href=""></a><span class="fu">summary</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ Area, data = dados)

Residuals:
   Min     1Q Median     3Q    Max 
-82.08 -24.88 -18.48  28.32 132.38 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2790.9074    69.3490  40.244 1.52e-09 ***
Area          -2.1282     0.4411  -4.824  0.00191 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 68.91 on 7 degrees of freedom
Multiple R-squared:  0.7688,    Adjusted R-squared:  0.7358 
F-statistic: 23.27 on 1 and 7 DF,  p-value: 0.001912</code></pre>
</div>
</div>
</section>
<section id="exemplo-2" class="slide level2">
<h2>Exemplo</h2>
<ul>
<li class="fragment">Resíduos <em>Semi-Studentizados</em> <em>vs.</em> Padronizados</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>s <span class="ot">&lt;-</span> <span class="fu">sigma</span>(fit)</span>
<span id="cb6-2"><a href=""></a>s</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 68.91</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>r <span class="ot">&lt;-</span> <span class="fu">residuals</span>(fit)</span>
<span id="cb8-2"><a href=""></a>r</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9 
 35.37 -21.78  21.91 -24.88  28.32 -18.48 -70.76 -82.08 132.38 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a>r<span class="sc">/</span>s</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9 
 0.5133 -0.3160  0.3180 -0.3611  0.4110 -0.2681 -1.0269 -1.1912  1.9211 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">rstandard</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9 
 0.6279 -0.3713  0.3570 -0.3879  0.4359 -0.2892 -1.1356 -1.3913  2.3865 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>h <span class="ot">&lt;-</span> <span class="fu">hatvalues</span>(fit)</span>
<span id="cb14-2"><a href=""></a>r<span class="sc">/</span>(s<span class="sc">*</span><span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">-</span>h))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9 
 0.6279 -0.3713  0.3570 -0.3879  0.4359 -0.2892 -1.1356 -1.3913  2.3865 </code></pre>
</div>
</div>
<ul>
<li class="fragment">Pelos resíduos <em>semi-studentizados</em> não removeríamos o dado 9!</li>
<li class="fragment">Com os resíduos <em>padronizados</em>, identificamos que este dado é discrepante!</li>
</ul>
</div>
</section>
<section id="exemplo-3" class="slide level2">
<h2>Exemplo</h2>
<ul>
<li class="fragment">Modelo final</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados, <span class="at">subset =</span> <span class="sc">-</span><span class="dv">9</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">summary</span>(fit1)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ Area, data = dados, subset = -9)

Residuals:
   Min     1Q Median     3Q    Max 
-39.73 -20.18  -3.08  15.52  52.09 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2863.423     35.303    81.1  2.4e-10 ***
Area          -2.770      0.241   -11.5  2.6e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 32.1 on 6 degrees of freedom
Multiple R-squared:  0.957, Adjusted R-squared:  0.949 
F-statistic:  132 on 1 and 6 DF,  p-value: 0.000026</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb19-2"><a href=""></a><span class="fu">abline</span>(fit1, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-17-1.png" width="432"></p>
</figure>
</div>
</div>
</div>
</div></div>
</div>
</section></section>
<section>
<section id="pontos-influenciantes" class="title-slide slide level1 center">
<h1>Pontos Influenciantes</h1>

</section>
<section id="pontos-influenciantes-1" class="slide level2">
<h2>Pontos influenciantes</h2>

<img data-src="img/levdemo21.png" class="r-stretch"></section>
<section id="distância-de-cook" class="slide level2">
<h2>Distância de Cook</h2>
<ul>
<li class="fragment">A Estatística de Cook, ou distância de Cook, é uma medida da <em>influência</em> das observações, que pode ser escrita <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 23</a>)</span>:
<ul>
<li class="fragment"><span id="eq-CooksDistance"><span class="math display">\[
D_i = \frac{\sum_{j = 1}^n (\hat y_j - \hat y_{j(i)})^2}{ps^2}
\qquad(10)\]</span></span></li>
</ul></li>
</ul>
<div class="fragment">
<blockquote>
<p>A distância de Cook <span class="math inline">\(D_i\)</span> pode ser vista como uma medida da distância entre os coeficientes calculados com e sem a i-ésima observação <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 24</a>)</span>.</p>
</blockquote>
<ul>
<li class="fragment">Felizmente, na prática,não é necessário o cômputo de <span class="math inline">\(n\)</span> modelos de regressão com LOOCV, pois a <a href="#/eq-CooksDistance" class="quarto-xref">Equação&nbsp;10</a> pode ser assim reescrita <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 24</a>)</span>:
<ul>
<li class="fragment"><span id="eq-CooksDistance2"><span class="math display">\[D_i = \frac{h_{ii}}{p(1-h_{ii})}r_i^2 \qquad(11)\]</span></span></li>
</ul></li>
</ul>
</div>
</section>
<section id="distância-de-cook-1" class="slide level2">
<h2>Distância de Cook</h2>
<ul>
<li class="fragment">Um dos problemas com a distância de Cook é a falta de um critério preciso para a definição da máxima distância de Cook aceitável
<ul>
<li class="fragment">Alguns autores recomendam que a <span class="math inline">\(D_i &lt; 1,0\)</span>;</li>
<li class="fragment">Outros recomendam a utilização do seguinte critério:
<ul>
<li class="fragment"><span class="math inline">\(D_i &lt; 4/n\)</span></li>
</ul></li>
<li class="fragment">Ainda, há outro critério:
<ul>
<li class="fragment"><span class="math inline">\(D_i &lt; 4/(n-k-1)\)</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="distância-de-cook-2" class="slide level2">
<h2>Distância de Cook</h2>
<ul>
<li class="fragment">É comum encontrar o critério <span class="math inline">\(D_i \geq 1,0\)</span> para identificar pontos influenciantes!</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div id="fig-FDist" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-FDist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="03_RLM_files/figure-revealjs/fig-FDist-1.png" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-FDist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2: Para a distribuição F (cumulativa), <span class="math inline">\(F^{-1}(.50) \approx 1,0\)</span>, para diversos <span class="math inline">\(df_1\)</span> e <span class="math inline">\(df_2\)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li class="fragment">Para poucos dados, o critério acima não se aplica razoavelmente!</li>
</ul>
</div>
</section>
<section id="distância-de-cook-3" class="slide level2">
<h2>Distância de Cook</h2>
<blockquote>
<p>As observações serão consideradas influentes quando <span class="math inline">\(D_i \geq F_{p,\,n-p}(0,50)\)</span> <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 24</a>)</span>.</p>
</blockquote>
<ul>
<li class="fragment">Exemplo:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="co"># Valor limite:</span></span>
<span id="cb20-2"><a href=""></a><span class="fu">qf</span>(.<span class="dv">50</span>, <span class="at">df1 =</span> <span class="dv">2</span>, <span class="at">df2 =</span> <span class="dv">7</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7665</code></pre>
</div>
</div>
</div>
</section>
<section id="distância-de-cook-4" class="slide level2">
<h2>Distância de Cook</h2>
<ul>
<li class="fragment">Exemplo:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">cooks.distance</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9 
0.09775 0.02621 0.01662 0.01159 0.01189 0.00682 0.14372 0.35250 1.54696 </code></pre>
</div>
</div>
<ul>
<li class="fragment"><span class="math inline">\(D_i &lt; 0,7665\)</span></li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">cooks.distance</span>(fit) <span class="sc">&lt;</span> .<span class="dv">7665</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    1     2     3     4     5     6     7     8     9 
 TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE </code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="análise-gráfica-de-resíduos" class="title-slide slide level1 center">
<h1>Análise Gráfica de Resíduos</h1>

</section>
<section id="análise-gráfica-de-resíduos-1" class="slide level2">
<h2>Análise Gráfica de Resíduos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">plot</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="03_RLM_files/figure-revealjs/fig-DiagFit-1.png" width="672" class="r-stretch quarto-figure-center" id="fig-DiagFit"><p class="caption">
Figura&nbsp;3: Análise de Resíduos do Exemplo 1.
</p></section>
<section id="análise-gráfica-de-resíduos-2" class="slide level2">
<h2>Análise Gráfica de Resíduos</h2>

<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-22-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="viés" class="title-slide slide level1 center">
<h1>Viés</h1>

</section>
<section id="viés-1" class="slide level2">
<h2>Viés</h2>
<ul>
<li class="fragment">Existem diversos tipos de viés na análise estatística.
<ul>
<li class="fragment">Um tipo de viés é o viés amostral, que tem origem na coleta de amostras de maneiras não-aleatórias
<ul>
<li class="fragment">Exemplo: coletar dados de terrenos apenas de uma fonte de informações.</li>
</ul></li>
</ul></li>
<li class="fragment">Outros vieses importantes na engenharia de avaliações são:
<ul>
<li class="fragment">Viés do patrocinador: a depender de quem patrocina a avaliação (comprador ou vendedor), os resultados podem ser diferentes.</li>
<li class="fragment">Viés da variável omitida: ocorre quando uma variável importante não é incluída no modelo estatístico.
<ul>
<li class="fragment">Exemplo: a partir de uma amostra com lotes em situação de esquina e meio-de-quadra, ajustar um modelo apenas com as características físicas dos lotes, ignorando a sua situação em relação à quadra.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="viés-2" class="slide level2">
<h2>Viés</h2>
<ul>
<li class="fragment"><p>Somente se pode combater o viés amostral através de uma amostragem mais cuidadosa.</p></li>
<li class="fragment"><p>O viés do patrocinador pode ser contornado através da solicitação de avaliações por partes não comprometidas com o interesse da transação.</p></li>
<li class="fragment"><p>O viés da variável omitida, no entanto, é mais complicado:</p>
<ul>
<li class="fragment">Muitas são as variáveis que influem no valor de mercado</li>
<li class="fragment">Nem sempre é possível considerá-las todas ao mesmo tempo</li>
</ul></li>
<li class="fragment"><blockquote>
<p>With four parameters I can fit an elephant, and with five I can make him wiggle his trunk (Von Neumann)</p>
</blockquote></li>
</ul>
</section>
<section id="qualidade-de-ajuste-de-um-modelo" class="slide level2">
<h2>Qualidade de ajuste de um modelo</h2>
<ul>
<li class="fragment">O que é um bom modelo de avaliação?
<ul>
<li class="fragment">A <span class="citation" data-cites="NBR1465302">ABNT (<a href="#/referências" role="doc-biblioref" onclick="">2011</a>)</span> enfatiza, em locais diversos, a importância de <strong>explicar</strong> o mercado</li>
<li class="fragment">No entanto, nem sempre um modelo que explica bem o funcionamento do mercado será um bom modelo para <em>prever</em> novos valores de mercado</li>
<li class="fragment">Existe um <em>tradeoff</em> entre viés e variância</li>
</ul></li>
<li class="fragment">O melhor modelo de avaliação é aquele que prevê valores com precisão <strong>fora da amostra</strong>!</li>
</ul>
</section>
<section id="tradeoff-entre-viés-e-variância" class="slide level2">
<h2><em>Tradeoff</em> entre viés e variância</h2>

<img data-src="Bias_and_variance_contributing_to_total_error.png" class="r-stretch quarto-figure-center" id="fig-tradeoff"><p class="caption">
Figura&nbsp;4: <em>Tradeoff</em> entre viés e variância.
</p></section>
<section id="tradeoff-entre-viés-e-variância-1" class="slide level2">
<h2><em>Tradeoff</em> entre viés e variância</h2>
<ul>
<li class="fragment"><p>Partindo do modelo nulo, à medida que variáveis vão sendo acrescentadas, há uma gradual diminuição do viés.</p></li>
<li class="fragment"><p>Existe, porém, um limite para a inserção de novas variáveis.</p></li>
<li class="fragment"><p>Muitas vezes, com poucos dados, um modelo com menos variáveis será mais preciso, em termos de predição, do que um modelo mais sofisticado.</p></li>
<li class="fragment"><p>É recomendável a utilização de <span class="math inline">\(n/20\)</span> a <span class="math inline">\(n/10\)</span> variáveis explicativas no modelo de regressão, para evitar sobreajustamento <span class="citation" data-cites="Harrell">(<a href="#/referências" role="doc-biblioref" onclick="">Harrell 2015, 72</a>)</span>.</p></li>
</ul>
</section></section>
<section>
<section id="sobreajustamento" class="title-slide slide level1 center">
<h1>Sobreajustamento</h1>

</section>
<section id="sobreajustamento-1" class="slide level2">
<h2>Sobreajustamento</h2>

<img data-src="overfitting.png" class="r-stretch quarto-figure-center" id="fig-overfitting"><p class="caption">
Figura&nbsp;5: Ilustração do sobreajustamento de um modelo.
</p></section>
<section id="sobreajustamento-2" class="slide level2">
<h2>Sobreajustamento</h2>
<ul>
<li class="fragment"><p>É comum na engenharia de avaliações a consideração de diversas variáveis, mesmo com poucos dados</p></li>
<li class="fragment"><p>Muitas vezes isso leva a modelos com alto grau de ajuste (alto <span class="math inline">\(R^2\)</span>)</p>
<ul>
<li class="fragment">Para isto, porém, costuma ser necessária a exclusão de alguns dados e a aplicação de transformações as mais diversas às variáveis do modelo.</li>
</ul></li>
<li class="fragment"><p>Um modelo sobreajustado irá prever valores para novos dados que não necessariamente irão refletir os preços de mercado.</p></li>
<li class="fragment"><p>Como, então, aferir se o modelo de regressão prevê bem valores fora da amostra?</p></li>
</ul>
</section></section>
<section>
<section id="qualidade-de-ajuste" class="title-slide slide level1 center">
<h1>Qualidade de ajuste</h1>

</section>
<section id="qualidade-de-ajuste-de-um-modelo-1" class="slide level2">
<h2>Qualidade de ajuste de um modelo</h2>
<ul>
<li class="fragment">É comum a utilização da estatística <span class="math inline">\(R^2\)</span> de um modelo:
<ul>
<li class="fragment"><span id="eq-R2"><span class="math display">\[R^2 = 1 - \frac{SQR}{SQT} \qquad(12)\]</span></span>
<ul>
<li class="fragment"><span class="math inline">\(SQR\)</span> é a Soma do Quadrado dos Resíduos (<span class="math inline">\(\sum(y_i - \hat y_i)^2\)</span>)</li>
<li class="fragment"><span class="math inline">\(SQT\)</span> é a Soma dos Quadrados Totais (<span class="math inline">\(\sum(y_i - \bar y)^2\)</span>)</li>
</ul></li>
</ul></li>
<li class="fragment"><span class="math inline">\(R^2\)</span> não é nada mais que uma estimativa para <span class="math inline">\(\rho^2\)</span> <span class="citation" data-cites="Karch2020">(<a href="#/referências" role="doc-biblioref" onclick="">Karch 2020, 2</a>)</span>:
<ul>
<li class="fragment"><span id="eq-rho2"><span class="math display">\[\rho^2 = 1 - \frac{\sigma_\epsilon^2}{\sigma_Y^2} \qquad(13)\]</span></span></li>
<li class="fragment"><span class="math inline">\(\sigma_\epsilon^2\)</span> é a variância dos erros</li>
<li class="fragment"><span class="math inline">\(\sigma_Y^2\)</span> é a variância total</li>
</ul></li>
<li class="fragment">Se adotamos <span class="math inline">\(\hat \sigma_\epsilon^2 = SQR/n\)</span> e <span class="math inline">\(\hat \sigma_Y^2 = SQT/n\)</span>, obtemos a <a href="#/eq-R2" class="quarto-xref">Equação&nbsp;12</a>.</li>
</ul>
</section>
<section id="qualidade-de-ajuste-de-um-modelo-2" class="slide level2">
<h2>Qualidade de ajuste de um modelo</h2>
<ul>
<li class="fragment"><p>Se adotamos as versões não-viesadas das variâncias, obtemos a <a href="#/eq-R2adj" class="quarto-xref">Equação&nbsp;14</a>:</p>
<ul>
<li class="fragment"><span class="math inline">\(\hat \sigma_\epsilon^2 = SQR/\text{df}_{\text{res}} = SQR/(n-p-1);\;\hat \sigma_Y^2 = SQT/\text{df}_{\text{tot}} = SQT/(n-1)\)</span>
<ul>
<li class="fragment"><span id="eq-R2adj"><span class="math display">\[R^2_{ajust} = 1 - \frac{SQR/\text{df}_{\text{res}}}{SQT/\text{df}_{\text{tot}}}= 1 - \frac{(n-1)SQR}{(n-p-1)SQT} \qquad(14)\]</span></span></li>
</ul></li>
</ul></li>
<li class="fragment"><p>Mesmo assim, <span class="math inline">\(R^2_{ajust}\)</span> ainda <strong>não é</strong> um estimador não-viesado de <span class="math inline">\(\rho^2\)</span> <span class="citation" data-cites="Karch2020">(<a href="#/referências" role="doc-biblioref" onclick="">Karch 2020, 2</a>)</span></p></li>
<li class="fragment"><p><span class="math inline">\(R^2_{ajust}\)</span> penaliza a inserção de novas variáveis no modelo.</p>
<ul>
<li class="fragment">Essa penalidade, porém, nem sempre é relevante:
<ul>
<li class="fragment">Se <span class="math inline">\(n = 10\)</span>, e <span class="math inline">\(p = 1\rightarrow (n-1)/(n-p-1) = 1,125\)</span></li>
<li class="fragment">Se <span class="math inline">\(n = 10\)</span>, e <span class="math inline">\(p = 2\rightarrow (n-1)/(n-p-1) = 1,286\)</span></li>
<li class="fragment">Se <span class="math inline">\(n = 100\)</span> e <span class="math inline">\(p = 6\rightarrow (n-1)/(n-p-1) = 1,065\)</span></li>
<li class="fragment">Se <span class="math inline">\(n = 100\)</span> e <span class="math inline">\(p = 7\rightarrow (n-1)/(n-p-1) = 1,076\)</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="seleção-de-modelos" class="slide level2">
<h2>Seleção de modelos</h2>
<ul>
<li class="fragment">O melhor modelo de regressão nem sempre será aquele com maior <span class="math inline">\(R^2\)</span> ou <span class="math inline">\(R^2_{ajust}\)</span>
<ul>
<li class="fragment"><blockquote>
<p>Alguns pesquisadores se baseiam erroneamente apenas no valor de <span class="math inline">\(R^2\)</span> para escolher o melhor modelo. Entretanto, tão importante quanto termos um <span class="math inline">\(R^2\)</span> próximo de um, é que a estimativa de <span class="math inline">\(\sigma^2\)</span> seja também pequena, pois os intervalos de confiança para os parâmetros de interesse são proporcionais a <span class="math inline">\(\sigma\)</span> <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 12</a>)</span>.</p>
</blockquote></li>
<li class="fragment">O melhor ajuste dos dados da amostra a um modelo não significa que o modelo irá prever valores com precisão fora da amostra</li>
</ul></li>
<li class="fragment">Não estamos interessados no modelo de regressão que melhor explica a amostra, mas no modelo de regressão que melhor prevê os valores dos imóveis fora da amostra.</li>
</ul>
</section>
<section id="validação-cruzada" class="slide level2">
<h2>Validação Cruzada</h2>
<ul>
<li class="fragment"><p>Em alguns casos, é possível particionar os dados e ajustar o modelo de regressão com uma das partições, e calcular o <span class="math inline">\(R^2\)</span> em outra partição dos dados</p></li>
<li class="fragment"><p>Porém, na engenharia de avaliações é frequente que trabalhemos com conjuntos de dados pequenos, o que nos dificulta muito, senão impossibilita, de particionar os dados.</p></li>
<li class="fragment"><p>Uma alternativa, nestes casos de pequenos conjuntos de dados, é a utilização da técnica de reamostragem <em>jackknife</em>!</p></li>
</ul>
</section></section>
<section>
<section id="reamostragem" class="title-slide slide level1 center">
<h1>Reamostragem</h1>

</section>
<section id="reamostragem-jackknife" class="slide level2">
<h2>Reamostragem <em>jackknife</em></h2>
<ul>
<li class="fragment"><p>O Método <em>jackknife</em>, de Quenouille-Tukey, é um método de reamostragem não-paramétrico.</p></li>
<li class="fragment"><p>O método <em>jackknife</em> consiste em reamostrar uma amostra <span class="math inline">\(n\)</span> vezes, deixando de fora um dos seus dado de cada vez.</p>
<ul>
<li class="fragment">O método <em>jackknife</em> também pode ser denominado de <em>leave-one-out</em> <em>cross-validation</em> (LOOCV)</li>
</ul></li>
</ul>
</section>
<section id="exemplo-2-1" class="slide level2">
<h2>Exemplo 2</h2>
<ul>
<li class="fragment">Em uma amostra com 10 elementos, quais sejam:</li>
</ul>
<div id="tbl-Exemplo2" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-Exemplo2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2: Dados - Exemplo 2.
</figcaption>
<div aria-describedby="tbl-Exemplo2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a><span class="fu">library</span>(tibble)</span>
<span id="cb27-2"><a href=""></a>dados <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb27-3"><a href=""></a>  <span class="sc">~</span>Area, <span class="sc">~</span>Preco, </span>
<span id="cb27-4"><a href=""></a>     <span class="dv">75</span>, <span class="dv">200000</span>,</span>
<span id="cb27-5"><a href=""></a>     <span class="dv">85</span>, <span class="dv">220000</span>,</span>
<span id="cb27-6"><a href=""></a>    <span class="dv">100</span>, <span class="dv">260000</span>,</span>
<span id="cb27-7"><a href=""></a>    <span class="dv">125</span>, <span class="dv">312500</span>,</span>
<span id="cb27-8"><a href=""></a>    <span class="dv">150</span>, <span class="dv">375000</span>,</span>
<span id="cb27-9"><a href=""></a>    <span class="dv">175</span>, <span class="dv">420000</span>,</span>
<span id="cb27-10"><a href=""></a>    <span class="dv">190</span>, <span class="dv">440000</span>,</span>
<span id="cb27-11"><a href=""></a>    <span class="dv">210</span>, <span class="dv">475000</span>,</span>
<span id="cb27-12"><a href=""></a>  <span class="fl">217.5</span>, <span class="dv">505000</span>,</span>
<span id="cb27-13"><a href=""></a>    <span class="dv">230</span>, <span class="dv">540000</span>,</span>
<span id="cb27-14"><a href=""></a>)</span>
<span id="cb27-15"><a href=""></a>dados<span class="sc">$</span>PU <span class="ot">&lt;-</span> <span class="fu">with</span>(dados, Preco<span class="sc">/</span>Area)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
</section>
<section id="exemplo-2-2" class="slide level2">
<h2>Exemplo 2</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Area</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">175</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">210</td>
<td style="text-align: right;">218</td>
<td style="text-align: right;">230</td>
</tr>
<tr class="even">
<td style="text-align: left;">Preco</td>
<td style="text-align: right;">200.000</td>
<td style="text-align: right;">220.000</td>
<td style="text-align: right;">260.000</td>
<td style="text-align: right;">312.500</td>
<td style="text-align: right;">375.000</td>
<td style="text-align: right;">420.000</td>
<td style="text-align: right;">440.000</td>
<td style="text-align: right;">475.000</td>
<td style="text-align: right;">505.000</td>
<td style="text-align: right;">540.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PU</td>
<td style="text-align: right;">2.667</td>
<td style="text-align: right;">2.588</td>
<td style="text-align: right;">2.600</td>
<td style="text-align: right;">2.500</td>
<td style="text-align: right;">2.500</td>
<td style="text-align: right;">2.400</td>
<td style="text-align: right;">2.316</td>
<td style="text-align: right;">2.262</td>
<td style="text-align: right;">2.322</td>
<td style="text-align: right;">2.348</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li class="fragment">Investigar se há algum <em>outlier</em> pelo critério do resíduo-padrão (<span class="math inline">\(|r_i|&lt;2\)</span>)</li>
</ul>
<div class="fragment">
<blockquote>
<p>As observações cujos valores absolutos dos resíduos padronizados são maiores do que 2 podem ser consideradas mal-ajustadas (<em>pontos aberrantes</em>) <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 21</a>)</span>.</p>
</blockquote>
</div>
</section>
<section id="exemplo-2-3" class="slide level2">
<h2>Exemplo 2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb28-2"><a href=""></a><span class="fu">summary</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ Area, data = dados)

Residuals:
   Min     1Q Median     3Q    Max 
-61.61 -25.94   5.29  25.77  71.02 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2814.000     42.713   65.88  3.1e-12 ***
Area          -2.336      0.259   -9.02  1.8e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 44.4 on 8 degrees of freedom
Multiple R-squared:  0.91,  Adjusted R-squared:  0.899 
F-statistic: 81.3 on 1 and 8 DF,  p-value: 0.0000183</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb30-2"><a href=""></a><span class="fu">abline</span>(fit, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-26-1.png" width="432"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="exemplo-2-4" class="slide level2">
<h2>Exemplo 2</h2>
<ul>
<li class="fragment">Resíduos padronizados:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="fu">rstandard</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9      10 
 0.7608 -0.7176  0.4941 -0.5327  0.8629 -0.1258 -1.3213 -1.5506  0.4062  1.8937 </code></pre>
</div>
</div>
<ul>
<li class="fragment"><p>Não há dados com resíduo-padrão com magnitude igual ou maior a 2,0 em módulo!</p></li>
<li class="fragment"><p>Porém, e se o problema for que os pontos aberrantes são também influenciantes?</p>
<ul>
<li class="fragment">Então, devido à influência do próprio ponto, o seu resíduo padronizado é esperado que seja baixo!</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="fu">cooks.distance</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10 
0.1372 0.0953 0.0316 0.0216 0.0419 0.0010 0.1420 0.3006 0.0246 0.7230 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="co"># Valor limite:</span></span>
<span id="cb35-2"><a href=""></a><span class="fu">qf</span>(.<span class="dv">50</span>, <span class="at">df1 =</span> <span class="dv">2</span>, <span class="at">df2 =</span> <span class="dv">8</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.757</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="fu">cooks.distance</span>(fit) <span class="sc">&lt;</span> .<span class="dv">75</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10 
TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE </code></pre>
</div>
</div>
</div>
</section>
<section id="exemplo-2-5" class="slide level2">
<h2>Exemplo 2</h2>
<ul>
<li class="fragment"><p>E se aplicarmos a reamostragem <em>jackknife</em> e elaborarmos 10 modelos de regressão, retirando-se um ponto de cada vez, calculando o resíduo-padrão?</p></li>
<li class="fragment"><p>Resíduos <em>jackknife</em>:</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a><span class="fu">rstudent</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     1      2      3      4      5      6      7      8      9     10 
 0.739 -0.694  0.469 -0.507  0.848 -0.118 -1.398 -1.734  0.384  2.385 </code></pre>
</div>
</div>
<ul>
<li class="fragment">Os resíduos assim computados também são conhecidos como resíduos (externamente) <em>studentizados</em>.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a>fit1 <span class="ot">&lt;-</span> <span class="fu">update</span>(fit, <span class="at">subset =</span> <span class="sc">-</span><span class="dv">10</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="exemplo-2-6" class="slide level2">
<h2>Exemplo 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a><span class="fu">library</span>(olsrr)</span>
<span id="cb42-2"><a href=""></a><span class="fu">ols_plot_resid_stud_fit</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-34-1.png" width="960" class="r-stretch"></section>
<section id="exemplo-2-7" class="slide level2">
<h2>Exemplo 2</h2>

<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-35-1.png" width="960" class="r-stretch"></section>
<section id="exemplo-2-8" class="slide level2">
<h2>Exemplo 2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb43-2"><a href=""></a><span class="fu">abline</span>(fit, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fit" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-fit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="03_RLM_files/figure-revealjs/fig-fit-1.png" width="480">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fit-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6: Gráfico do Modelo Completo (todos os dados).
</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb44-2"><a href=""></a><span class="fu">abline</span>(fit1, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fit1" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-fit1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="03_RLM_files/figure-revealjs/fig-fit1-1.png" width="480">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fit1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;7: Gráfico do Modelo, excluído ponto aberrante (10).
</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="exemplo-2-9" class="slide level2">
<h2>Exemplo 2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="fu">summary</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ Area, data = dados)

Residuals:
   Min     1Q Median     3Q    Max 
-61.61 -25.94   5.29  25.77  71.02 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2814.000     42.713   65.88  3.1e-12 ***
Area          -2.336      0.259   -9.02  1.8e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 44.4 on 8 degrees of freedom
Multiple R-squared:  0.91,  Adjusted R-squared:  0.899 
F-statistic: 81.3 on 1 and 8 DF,  p-value: 0.0000183</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a><span class="fu">summary</span>(fit1)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ Area, data = dados, subset = -10)

Residuals:
   Min     1Q Median     3Q    Max 
-38.01 -35.06   9.54  17.50  44.86 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 2843.200     36.060    78.8  1.4e-11 ***
Area          -2.587      0.231   -11.2  1.0e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 35.3 on 7 degrees of freedom
Multiple R-squared:  0.947, Adjusted R-squared:  0.94 
F-statistic:  125 on 1 and 7 DF,  p-value: 0.0000101</code></pre>
</div>
</div>
</div></div>
</section>
<section id="resíduos-jackknife" class="slide level2">
<h2>Resíduos <em>jackknife</em></h2>
<ul>
<li class="fragment"><p>Os resíduos <em>jackknife</em> podem ser calculados conforme a equação abaixo <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 22</a>)</span>:</p>
<ul>
<li class="fragment"><span class="math display">\[t_i = \frac{\hat \epsilon_i}{\hat \sigma_{(i)} \sqrt{1-h_{ii}}}\]</span>
<ul>
<li class="fragment"><span class="math inline">\(\hat \sigma_{(i)}\)</span> é o erro-padrão da regressão calculado para cada subamostra</li>
</ul></li>
</ul></li>
<li class="fragment"><p>Na prática:</p>
<ul>
<li class="fragment"><span class="math display">\[t_i = \sqrt{\frac{n-p-1}{n-p-r_i^2}}r_i\]</span></li>
</ul></li>
<li class="fragment"><p>Os resíduos <em>jackknife</em> ou resíduos externamente <em>studentizados</em> devem possuir distribuição t de Student com <span class="math inline">\(n-p-1\)</span> graus de liberdade <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 22</a>)</span>!</p></li>
<li class="fragment"><p>Ver planilha excel do material de apoio!</p></li>
</ul>
</section></section>
<section>
<section id="r2-preditivo" class="title-slide slide level1 center">
<h1><span class="math inline">\(R^2\)</span> preditivo</h1>

</section>
<section id="r2-preditivo-1" class="slide level2">
<h2><span class="math inline">\(R^2\)</span> preditivo</h2>
<ul>
<li class="fragment"><p>Analogamente ao que ocorre com os resíduos <em>studentizados</em> e com a distância de Cook, é possível aplicar o procedimento <em>jackknife</em> ao cálculo de <span class="math inline">\(R^2\)</span>.</p></li>
<li class="fragment"><p>Ao <span class="math inline">\(R^2\)</span> calculado com o método da reamostragem <em>jackknife</em> é dado o nome <span class="math inline">\(R^2_{pred}\)</span>:</p>
<ul>
<li class="fragment">o resíduo de cada uma das observações é calculado com um modelo ajustado sem a contribuição desta observação para a qual o resíduo é calculado.</li>
<li class="fragment">Então é computada a estatística PRESS, a Soma do Quadrado dos Resíduos calculados com a reamostragem <em>jackknife</em>.</li>
</ul></li>
<li class="fragment"><p>Na prática, não é preciso ajustar <span class="math inline">\(n\)</span> modelos para calcular cada resíduo, pois é possível utilizar a matriz chapéu para retirar a contribuição da observação:</p>
<ul>
<li class="fragment"><span id="eq-R2pred"><span class="math display">\[R^2_{pred} = 1 - \frac{PRESS}{SQT} \qquad(15)\]</span></span>
<ul>
<li class="fragment"><span class="math inline">\(\text{PRESS} = \sum(\hat \epsilon_i/(1-h_{ii}))^2\)</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="exemplo-3-1" class="slide level2">
<h2>Exemplo 3</h2>

<img data-src="03_RLM_files/figure-revealjs/fig-Modelo-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-Modelo"><p class="caption">
Figura&nbsp;8: Modelo sem significância.
</p></section>
<section id="exemplo-3-cont." class="slide level2">
<h2>Exemplo 3 (cont.)</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Termo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Est.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Erro</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">25,81</td>
<td style="text-align: right;">33,91</td>
<td style="text-align: right;">0,76</td>
<td style="text-align: right;">0,46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Area</td>
<td style="text-align: right;">-0,11</td>
<td style="text-align: right;">0,43</td>
<td style="text-align: right;">-0,26</td>
<td style="text-align: right;">0,80</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup></sup> Erro-padrão dos resíduos: 11,39 em 10 graus de liberdade.</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>a</sup> MADn: 12,02</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>b</sup> R2: 0,0068</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>c</sup> R2ajust: -0,093</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>d</sup> R2pred: -0,59</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>e</sup> MAPE: 115,98%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>
</div>
</div>
</section>
<section id="exemplo-3-cont.-1" class="slide level2">
<h2>Exemplo 3 (cont.)</h2>

<img data-src="03_RLM_files/figure-revealjs/fig-Modelo2-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-Modelo2"><p class="caption">
Figura&nbsp;9: Modelo sobreajustado.
</p></section>
<section id="exemplo-3-cont.-2" class="slide level2">
<h2>Exemplo 3 (cont.)</h2>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Termo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Est.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Erro</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">17,00</td>
<td style="text-align: right;">2,14</td>
<td style="text-align: right;">7,95</td>
<td style="text-align: right;">0,00</td>
</tr>
<tr class="even">
<td style="text-align: left;">poly(Area, 3)1</td>
<td style="text-align: right;">-2,97</td>
<td style="text-align: right;">7,41</td>
<td style="text-align: right;">-0,40</td>
<td style="text-align: right;">0,70</td>
</tr>
<tr class="odd">
<td style="text-align: left;">poly(Area, 3)2</td>
<td style="text-align: right;">19,41</td>
<td style="text-align: right;">7,41</td>
<td style="text-align: right;">2,62</td>
<td style="text-align: right;">0,03</td>
</tr>
<tr class="even">
<td style="text-align: left;">poly(Area, 3)3</td>
<td style="text-align: right;">21,94</td>
<td style="text-align: right;">7,41</td>
<td style="text-align: right;">2,96</td>
<td style="text-align: right;">0,02</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup></sup> Erro-padrão dos resíduos: 7,41 em 8 graus de liberdade.</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>a</sup> MADn: 6,92</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>b</sup> R2: 0,66</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>c</sup> R2ajust: 0,54</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>d</sup> R2pred: -0,22</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>e</sup> MAPE: 48,04%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>
</div>
</div>
<ul>
<li class="fragment">Com muitos preditores, <span class="math inline">\(R^2\)</span> (e também <span class="math inline">\(R^2_{ajustado}\)</span>) aumenta! Porém <span class="math inline">\(R^2_{pred}\)</span> não!</li>
</ul>
</section>
<section id="exemplo-2-10" class="slide level2">
<h2>Exemplo 2</h2>
<ul>
<li class="fragment">Voltando ao exemplo 2, utilizado para demonstrar os resíduos <em>studentizados</em></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> Area, <span class="at">data =</span> dados)</span>
<span id="cb49-2"><a href=""></a><span class="fu">abline</span>(fit, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-41-1.png" width="432"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a>fitLog <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> <span class="fu">log</span>(Area), <span class="at">data =</span> dados)</span>
<span id="cb50-2"><a href=""></a><span class="fu">plot</span>(PU <span class="sc">~</span> <span class="fu">log</span>(Area), <span class="at">data =</span> dados)</span>
<span id="cb50-3"><a href=""></a><span class="fu">abline</span>(fitLog, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-43-1.png" width="432"></p>
</figure>
</div>
</div>
</div>
</div></div>
</div>
</section>
<section id="exemplo-2-11" class="slide level2">
<h2>Exemplo 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href=""></a><span class="fu">rstudent</span>(fitLog)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        1         2         3         4         5         6         7         8 
-0.000326 -1.031962  0.684641  0.014561  1.610842  0.251385 -1.193145 -2.054892 
        9        10 
 0.094544  1.339744 </code></pre>
</div>
</div>
<ul>
<li class="fragment">Maior resíduo <em>studentizado</em> (em módulo) agora é o ponto 8!</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href=""></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">999</span>)</span>
<span id="cb53-2"><a href=""></a><span class="fu">cooks.distance</span>(fitLog)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           1            2            3            4            5            6 
0.0000000388 0.2165936659 0.0598830157 0.0000157388 0.1211216880 0.0050245605 
           7            8            9           10 
0.1174284454 0.3540002760 0.0013433869 0.2585533085 </code></pre>
</div>
</div>
</div>
</section>
<section id="exemplo-2-12" class="slide level2">
<h2>Exemplo 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a><span class="fu">ols_plot_resid_stud_fit</span>(fitLog)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-46-1.png" width="960" class="r-stretch"></section>
<section id="exemplo-2-13" class="slide level2">
<h2>Exemplo 2</h2>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Termo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Est.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Erro</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">2.814,00</td>
<td style="text-align: right;">42,71</td>
<td style="text-align: right;">65,88</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Area</td>
<td style="text-align: right;">-2,34</td>
<td style="text-align: right;">0,26</td>
<td style="text-align: right;">-9,02</td>
<td style="text-align: right;">0</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup></sup> Erro-padrão dos resíduos: 44,43 em 8 graus de liberdade.</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>a</sup> MADn: 43,29</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>b</sup> R2: 0,91</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>c</sup> R2ajust: 0,90</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>d</sup> R2pred: 0,85</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>e</sup> MAPE: 1,42%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 20px; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Termo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Est.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Erro</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">4.081</td>
<td style="text-align: right;">176,2</td>
<td style="text-align: right;">23,16</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">log(Area)</td>
<td style="text-align: right;">-328</td>
<td style="text-align: right;">35,3</td>
<td style="text-align: right;">-9,28</td>
<td style="text-align: right;">0</td>
</tr>
</tbody><tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup></sup> Erro-padrão dos resíduos: 43,27 em 8 graus de liberdade.</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>a</sup> MADn: 48,18</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>b</sup> R2: 0,92</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>c</sup> R2ajust: 0,90</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>d</sup> R2pred: 0,87</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;"><sup>e</sup> MAPE: 1,26%</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>
</div>
</div>
</div></div>
</div>
</section>
<section id="modelo-transformado" class="slide level2">
<h2>Modelo transformado</h2>

<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-49-1.png" width="960" class="r-stretch"></section>
<section id="extrapolação" class="slide level2">
<h2>Extrapolação</h2>
<ul>
<li class="fragment">A <span class="citation" data-cites="NBR1465302">ABNT (<a href="#/referências" role="doc-biblioref" onclick="">2011</a>)</span> permite a extrapolação de variáveis explicativas em até 100% acima do limite superior:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a><span class="fu">predict</span>(fit, <span class="at">newdata =</span> <span class="fu">list</span>(<span class="at">Area =</span> <span class="dv">460</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1 
1740 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href=""></a><span class="fu">predict</span>(fitLog, <span class="at">newdata =</span> <span class="fu">list</span>(<span class="at">Area =</span> <span class="dv">460</span>))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1 
2073 </code></pre>
</div>
</div>
<ul>
<li class="fragment">A diferença entra as formas funcionais se exacerba na extrapolação!</li>
</ul>
</div>
</section>
<section id="extrapolação-1" class="slide level2">
<h2>Extrapolação</h2>

<img data-src="03_RLM_files/figure-revealjs/unnamed-chunk-52-1.png" width="960" class="r-stretch"></section>
<section id="as-agruras-do-avaliador" class="slide level2 scrollable">
<h2>As agruras do avaliador</h2>
<ol type="1">
<li class="fragment">Não há certeza sobre a forma funcional!</li>
<li class="fragment">Com poucos dados, encontrar a forma funcional “correta” é mais difícil, senão impossível!</li>
<li class="fragment">Com uma forma funcional, um ponto pode ser um <em>outlier</em>, mas não em outra forma!</li>
<li class="fragment">Com muitas variáveis, o problema ainda aumenta, pois mais formas funcionais são possíveis!</li>
<li class="fragment">Como comparar modelos com formas funcionais diferentes? Em termos de <span class="math inline">\(R^2\)</span>?</li>
<li class="fragment">Ainda pode haver interações entre as variáveis!</li>
<li class="fragment">O que fazer?</li>
</ol>
</section>
<section id="comparação-de-modelos" class="slide level2">
<h2>Comparação de modelos</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
bestfit(formula = PU ~ Area, data = dados)

Best 10 fits:
   id       PU     Area    R2 adj_R2 pred_R2     LL   AIC  AICc   BIC
2   2 identity      log 0.915  0.904   0.872 -50.75 107.5 111.5 108.4
5   5 identity     sqrt 0.918  0.907   0.870 -50.59 107.2 111.2 108.1
12 12     sqrt      log 0.912  0.900   0.867  -4.98  16.0  20.0  16.9
15 15     sqrt     sqrt 0.915  0.904   0.867  -4.78  15.6  19.6  16.5
10 10      log     sqrt 0.912  0.901   0.863  27.16 -48.3 -44.3 -47.4
7   7      log      log 0.908  0.896   0.862  26.91 -47.8 -43.8 -46.9
4   4 identity    rsqrt 0.903  0.890   0.856 -51.43 108.9 112.9 109.8
1   1 identity identity 0.910  0.899   0.851 -51.01 108.0 112.0 108.9
14 14     sqrt    rsqrt 0.898  0.885   0.850  -5.68  17.4  21.4  18.3
11 11     sqrt identity 0.909  0.897   0.849  -5.13  16.3  20.3  17.2
...</code></pre>
</div>
</div>
<ul>
<li class="fragment"><p><strong>CUIDADO</strong>: quando a variável dependente é transformada, <span class="math inline">\(R^2\)</span> (assim como <span class="math inline">\(R^2_{ajust}\)</span> e <span class="math inline">\(R^2_{pred}\)</span>) valem para a escala transformada!</p></li>
<li class="fragment"><p>O que importa, no entanto, é como o modelo funciona na escala original (preços)!</p></li>
</ul>
</section>
<section id="comparação-de-modelos-1" class="slide level2">
<h2>Comparação de modelos</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Bestfits:
  id       PU Area    R2 adj_R2 pred_R2 nl_R2     LL   AIC  AICc adj_AIC
1  5 identity sqrt 0.918  0.907   0.870 0.918 -50.59 107.2 111.2     107
3 15     sqrt sqrt 0.915  0.904   0.867 0.918  -4.78  15.6  19.6     107
2 10      log sqrt 0.912  0.901   0.863 0.918  27.16 -48.3 -44.3     108
  adj_AICc
1      111
3      111
2      112</code></pre>
</div>
</div>
<ul>
<li class="fragment">Modelos são muito parecidos na escala original.</li>
</ul>
</section>
<section id="referências" class="slide level2 smaller scrollable">
<h2>Referências</h2>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-NBR1465302" class="csl-entry" role="listitem">
ABNT. 2011. <em><span>NBR</span> 14653-2: Avaliacao de Bens – Parte 2: Imoveis Urbanos</em>. Rio de Janeiro: Associacao Brasileira de Normas Tecnicas.
</div>
<div id="ref-GCordeiro2004" class="csl-entry" role="listitem">
Cordeiro, Gauss M., e Eufrásio de Andrade Lima Neto. 2004. <em>Modelos Paramétricos</em>. São Paulo: Associação Brasileira de Estatística. <a href="https://www.ufjf.br/clecio_ferreira/files/2013/05/Livro-Gauss-e-Eufrasio.pdf">https://www.ufjf.br/clecio_ferreira/files/2013/05/Livro-Gauss-e-Eufrasio.pdf</a>.
</div>
<div id="ref-Harrell" class="csl-entry" role="listitem">
Harrell, Frank E. 2015. <em>Regression Modeling Strategies: With Applications to Linear Models, Logistic and Ordinal Regression, and Survival Analysis</em>. 2.ª ed. Springer.
</div>
<div id="ref-Karch2020" class="csl-entry" role="listitem">
Karch, Julian. 2020. <span>«Improving on Adjusted R-Squared»</span>. <em>Collabra: Psychology</em> 6 (1): 45. <a href="https://doi.org/10.1525/collabra.343">https://doi.org/10.1525/collabra.343</a>.
</div>
</div>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>VALORÍSTICA</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="03_RLM_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="03_RLM_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="03_RLM_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="03_RLM_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript" charset="utf-8">

      function add_custom_footer() {

        let title_slide = document.querySelector("section#title-slide");

        let title_slide_footer = title_slide.getAttribute('data-footer');

        let footer = document.querySelector('div.footer p');

        let global_footer_text = footer.innerHTML;

    

        if (title_slide.classList.contains('present')) {

          footer.innerHTML = title_slide_footer;

        }

    

        Reveal.on( 'slidechanged' , event => {

            if (event.currentSlide.matches('#title-slide')) {

              footer.innerHTML = title_slide_footer;

            } else {

              footer.innerHTML = global_footer_text;

            }

          });

      };

    

      window.addEventListener("load", (event) => {

        add_custom_footer();

      });

    </script>

    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiada");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiada");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>