<!DOCTYPE html>
<html lang="pt"><head>
<script src="02_RLS_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_RLS_files/libs/quarto-html/tabby.min.js"></script>
<script src="02_RLS_files/libs/quarto-html/popper.min.js"></script>
<script src="02_RLS_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="02_RLS_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_RLS_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="02_RLS_files/libs/quarto-html/quarto-syntax-highlighting-985aa47af68dae11cd4d235c71fb941e.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.27">

  <meta name="author" content="Luiz Droubi">
  <title>Avaliação em Massa</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="02_RLS_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="02_RLS_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="02_RLS_files/libs/revealjs/dist/theme/quarto-edcff130eb01ac5e239e676278bbed8d.css">
  <link href="02_RLS_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="02_RLS_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="02_RLS_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="02_RLS_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/PPT_abertura.png" data-footer="<a href='http://www.valoristica.com.br'>http://www.valoristica.com.br</a>" class="quarto-title-block center">
  <h1 class="title">Avaliação em Massa</h1>
  <p class="subtitle"><em>Regressão Linear Simples</em></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Luiz Droubi 
</div>
        <p class="quarto-title-affiliation">
            Academia da Engenharia de Avaliações
          </p>
    </div>
</div>

  <p class="date">28 de julho de 2025</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Índice</h2>
<ul>
<li class="fragment"><a href="#/conjunto-de-dados" id="/toc-conjunto-de-dados">Conjunto de Dados</a></li>
<li class="fragment"><a href="#/média-condicional" id="/toc-média-condicional">Média Condicional</a></li>
<li class="fragment"><a href="#/rls-vs.-médias-isoladas" id="/toc-rls-vs.-médias-isoladas">RLS vs.&nbsp;médias isoladas</a></li>
<li class="fragment"><a href="#/modelo-de-regressão-linear-clássico" id="/toc-modelo-de-regressão-linear-clássico">Modelo de Regressão Linear Clássico</a></li>
<li class="fragment"><a href="#/análise-de-variância" id="/toc-análise-de-variância">Análise de Variância</a></li>
<li class="fragment"><a href="#/análise-de-resíduos" id="/toc-análise-de-resíduos">Análise de Resíduos</a></li>
<li class="fragment"><a href="#/testes-de-hipótese-de-intervalos-de-confiança" id="/toc-testes-de-hipótese-de-intervalos-de-confiança">Testes de Hipótese de Intervalos de Confiança</a></li>
<li class="fragment"><a href="#/r2-vs.-hat-sigma" id="/toc-r2-vs.-hat-sigma"><span class="math inline">\(R^2\)</span> <em>vs.</em> <span class="math inline">\(\hat \sigma\)</span></a></li>
<li class="fragment"><a href="#/plotagem-de-modelos" id="/toc-plotagem-de-modelos">Plotagem de Modelos</a></li>
<li class="fragment"><a href="#/elipses-de-dados" id="/toc-elipses-de-dados">Elipses de Dados</a></li>
</ul>
</nav>
</section>
<section>
<section id="conjunto-de-dados" class="title-slide slide level1 center">
<h1>Conjunto de Dados</h1>

</section>
<section id="dados" class="slide level2 smaller">
<h2>Dados</h2>
<ul>
<li class="fragment"><p>Utilizaremos durente o curso alguns conjuntos de dados para exemplificar os métodos utilizados;</p></li>
<li class="fragment"><p><span class="citation" data-cites="zilli2020">Zilli (<a href="#/referências" role="doc-biblioref" onclick="">2020</a>)</span>:</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">PT</th>
<th style="text-align: right;">PU</th>
<th style="text-align: left;">PC</th>
<th style="text-align: right;">AP</th>
<th style="text-align: right;">NG</th>
<th style="text-align: right;">ND</th>
<th style="text-align: right;">NB</th>
<th style="text-align: right;">NS</th>
<th style="text-align: left;">MO</th>
<th style="text-align: left;">PSN</th>
<th style="text-align: left;">CH</th>
<th style="text-align: right;">DPXV</th>
<th style="text-align: right;">DSBM</th>
<th style="text-align: right;">DSIG</th>
<th style="text-align: right;">DCTC</th>
<th style="text-align: right;">DABM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">920045</td>
<td style="text-align: right;">9485</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">S</td>
<td style="text-align: left;">S</td>
<td style="text-align: right;">1642</td>
<td style="text-align: right;">876</td>
<td style="text-align: right;">6763</td>
<td style="text-align: right;">7022</td>
<td style="text-align: right;">367</td>
</tr>
<tr class="even">
<td style="text-align: right;">699997</td>
<td style="text-align: right;">9589</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">S</td>
<td style="text-align: left;">S</td>
<td style="text-align: right;">2033</td>
<td style="text-align: right;">1266</td>
<td style="text-align: right;">6916</td>
<td style="text-align: right;">7175</td>
<td style="text-align: right;">807</td>
</tr>
<tr class="odd">
<td style="text-align: right;">750000</td>
<td style="text-align: right;">6250</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1122</td>
<td style="text-align: right;">1324</td>
<td style="text-align: right;">7211</td>
<td style="text-align: right;">7470</td>
<td style="text-align: right;">803</td>
</tr>
<tr class="even">
<td style="text-align: right;">1149972</td>
<td style="text-align: right;">9426</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">SM</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1612</td>
<td style="text-align: right;">1064</td>
<td style="text-align: right;">6952</td>
<td style="text-align: right;">7211</td>
<td style="text-align: right;">136</td>
</tr>
<tr class="odd">
<td style="text-align: right;">700040</td>
<td style="text-align: right;">6364</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1532</td>
<td style="text-align: right;">936</td>
<td style="text-align: right;">6824</td>
<td style="text-align: right;">7083</td>
<td style="text-align: right;">116</td>
</tr>
<tr class="even">
<td style="text-align: right;">630000</td>
<td style="text-align: right;">7500</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">2376</td>
<td style="text-align: right;">1668</td>
<td style="text-align: right;">7543</td>
<td style="text-align: right;">7802</td>
<td style="text-align: right;">143</td>
</tr>
<tr class="odd">
<td style="text-align: right;">839990</td>
<td style="text-align: right;">8842</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">S</td>
<td style="text-align: left;">S</td>
<td style="text-align: right;">2480</td>
<td style="text-align: right;">2615</td>
<td style="text-align: right;">8493</td>
<td style="text-align: right;">8752</td>
<td style="text-align: right;">319</td>
</tr>
<tr class="even">
<td style="text-align: right;">530010</td>
<td style="text-align: right;">9815</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1371</td>
<td style="text-align: right;">1971</td>
<td style="text-align: right;">7846</td>
<td style="text-align: right;">8105</td>
<td style="text-align: right;">892</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1075020</td>
<td style="text-align: right;">7790</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1517</td>
<td style="text-align: right;">1291</td>
<td style="text-align: right;">7166</td>
<td style="text-align: right;">7425</td>
<td style="text-align: right;">585</td>
</tr>
<tr class="even">
<td style="text-align: right;">529980</td>
<td style="text-align: right;">8833</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">MO</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1372</td>
<td style="text-align: right;">1164</td>
<td style="text-align: right;">6982</td>
<td style="text-align: right;">7241</td>
<td style="text-align: right;">660</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section></section>
<section>
<section id="média-condicional" class="title-slide slide level1 center">
<h1>Média Condicional</h1>

</section>
<section id="média-condicional-1" class="slide level2 smaller">
<h2>Média Condicional</h2>
<ul>
<li class="fragment">É importante compreender bem a <em>Regressão Linear Simples</em> (RLS) antes da <em>Regressão Linear Múltipla</em> (RLM);</li>
<li class="fragment">O conceito principal da regressão linear é que com ela estimamos a chamada <em>média condicional</em>;</li>
<li class="fragment">Para entender:
<ul>
<li class="fragment">Se coletamos uma amostra de preços unitários (PU) de apartamentos, podemos calcular a <em>média incondicional</em> (<span class="math inline">\(\mu\)</span>) da amostra;
<ul>
<li class="fragment">Por exemplo: <span class="math inline">\(\hat\mu(PU) =\)</span> R$ 8.188,04<span class="math inline">\(/m^2\)</span></li>
<li class="fragment">No entanto, os dados são heterogêneos:
<ul>
<li class="fragment">Diversos valores de área privativa (AP), número de garagens (NG), etc.</li>
</ul></li>
</ul></li>
<li class="fragment">Com a regressão linear simples, calculamos as <em>médias condicionais</em>:
<ul>
<li class="fragment">A média dos preços unitários dos apartamentos com 1 vaga de garagem, 2 vagas de garagem, etc.</li>
<li class="fragment">A média dos preços unitários dos apartamentos com padrão baixo, com padrão médio, etc.</li>
<li class="fragment">A média do preço dos apartamentos dado que a distância à beira-mar é de 200m</li>
<li class="fragment">Exemplos:
<ul>
<li class="fragment"><span class="math inline">\(\hat \mu(PU|NG=1) =\)</span> R$ 7.191,23<span class="math inline">\(/m^2\)</span></li>
<li class="fragment"><span class="math inline">\(\hat \mu(PU|NG=2) =\)</span> R$ 9.154,62<span class="math inline">\(/m^2\)</span></li>
<li class="fragment"><span class="math inline">\(\hat \mu(PU|PC=Médio) =\)</span> R$ 7.529,32<span class="math inline">\(/m^2\)</span></li>
<li class="fragment"><span class="math inline">\(\hat \mu(PU|PC=Alto) =\)</span> R$ 10.174,89<span class="math inline">\(/m^2\)</span></li>
<li class="fragment"><span class="math inline">\(\hat \mu(PU|DABM = 200) =\)</span> R$ 9.191,15<span class="math inline">\(/m^2\)</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="regressão-linear-simples" class="slide level2">
<h2>Regressão Linear Simples</h2>
<ul>
<li class="fragment">Exemplo 1:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>dados <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/zilli_2020.rds"</span>)</span>
<span id="cb1-2"><a href=""></a><span class="fu">tapply</span>(dados<span class="sc">$</span>PU, dados<span class="sc">$</span>NG, mean)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        0         1         2         3         4 
 5010.875  7191.229  9154.616 12617.400 13395.333 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> NG, <span class="at">data =</span> dados)</span>
<span id="cb3-2"><a href=""></a><span class="fu">predict</span>(fit, <span class="at">newdata =</span> <span class="fu">list</span>(<span class="at">NG =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        1         2         3         4         5 
 4918.482  7134.297  9350.112 11565.927 13781.742 </code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li class="fragment">Ao estimar valores médios através da RLS, obtemos médias diferentes das médias calculadas isoladamente!</li>
</ul>
</div>
</section>
<section id="regressão-linear-simples-1" class="slide level2">
<h2>Regressão Linear Simples</h2>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<ul>
<li class="fragment">O que é melhor? As médias isoladas ou as médias obtidas pela RLS?</li>
</ul>
</div>
</section></section>
<section>
<section id="rls-vs.-médias-isoladas" class="title-slide slide level1 center">
<h1>RLS vs.&nbsp;médias isoladas</h1>

</section>
<section id="regressão-linear-simples-2" class="slide level2">
<h2>Regressão Linear Simples</h2>
<ul>
<li class="fragment"><p>Vantagens em estimar 5 médias vs.&nbsp;ajustar um modelo de regressão linear:</p>
<ul>
<li class="fragment">5 médias isoladas:</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">tapply</span>(dados<span class="sc">$</span>PU, dados<span class="sc">$</span>NG, t.test)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`0`

    One Sample t-test

data:  X[[i]]
t = 12.14, df = 7, p-value = 5.881e-06
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 4034.885 5986.865
sample estimates:
mean of x 
 5010.875 


$`1`

    One Sample t-test

data:  X[[i]]
t = 37.563, df = 117, p-value &lt; 2.2e-16
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 6812.082 7570.376
sample estimates:
mean of x 
 7191.229 


$`2`

    One Sample t-test

data:  X[[i]]
t = 36.828, df = 85, p-value &lt; 2.2e-16
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 8660.374 9648.859
sample estimates:
mean of x 
 9154.616 


$`3`

    One Sample t-test

data:  X[[i]]
t = 15.595, df = 9, p-value = 8.044e-08
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 10787.15 14447.65
sample estimates:
mean of x 
  12617.4 


$`4`

    One Sample t-test

data:  X[[i]]
t = 12.091, df = 2, p-value = 0.006771
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
  8628.589 18162.077
sample estimates:
mean of x 
 13395.33 </code></pre>
</div>
</div>
</div>
</section>
<section id="regressão-linear-simples-3" class="slide level2">
<h2>Regressão Linear Simples</h2>
<ul>
<li class="fragment"><p>Vantagens em estimar 5 médias vs.&nbsp;ajustar um modelo de regressão linear:</p>
<ul>
<li class="fragment">Regressão Linear:</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">predict</span>(fit, <span class="fu">list</span>(<span class="at">NG =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">interval =</span> <span class="st">"confidence"</span>, <span class="at">level =</span> .<span class="dv">95</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        fit       lwr       upr
1  4918.482  4253.426  5583.537
2  7134.297  6789.792  7478.802
3  9350.112  8994.033  9706.191
4 11565.927 10882.827 12249.027
5 13781.742 12714.885 14848.599</code></pre>
</div>
</div>
</div>
</section>
<section id="regressão-linear-simples-4" class="slide level2">
<h2>Regressão Linear Simples</h2>
<ul>
<li class="fragment">Graficamente:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-8-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="apartado-histórico" class="slide level2 smaller">
<h2>Apartado histórico</h2>
<ul>
<li class="fragment">Galton:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="regressão-linear-simples-5" class="slide level2 smaller">
<h2>Regressão Linear Simples</h2>
<ul>
<li class="fragment">Exemplo 2:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div id="fig-DABM" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-DABM-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="02_RLS_files/figure-revealjs/fig-DABM-1.png" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-DABM-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Dados de preços unitários de apartamentos em Florianópolis, em função da distância à Av. Beira-Mar (DABM) <span class="citation" data-cites="zilli2020">(<a href="#/referências" role="doc-biblioref" onclick="">Zilli 2020</a>)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="modelo-de-regressão-linear-clássico" class="title-slide slide level1 center">
<h1>Modelo de Regressão Linear Clássico</h1>

</section>
<section id="modelo-de-regressão-linear-clássico-1" class="slide level2 smaller">
<h2>Modelo de Regressão Linear Clássico</h2>
<ul>
<li class="fragment">Um modelo de regressão linear, em si, não exige normalidade, homoscedasticidade, etc.</li>
<li class="fragment">No entanto, se estas hipóteses são verificadas, podemos utilizar a inferência clássica.</li>
<li class="fragment">Assim, definimos um <em>Modelo de Regressão Linear Clássico</em> (MRLC) como:
<ul>
<li class="fragment"><span id="eq-MRLC"><span class="math display">\[y = \alpha + \beta x + \epsilon \qquad(1)\]</span></span>
<ul>
<li class="fragment">Em que:
<ul>
<li class="fragment"><span class="math inline">\(y\)</span> é a variável resposta</li>
<li class="fragment"><span class="math inline">\(\alpha\)</span> e <span class="math inline">\(\beta\)</span> são parâmetros da população</li>
<li class="fragment"><span class="math inline">\(x\)</span> é a variável explicativa</li>
<li class="fragment"><span class="math inline">\(\epsilon\)</span> é um termo de erro
<ul>
<li class="fragment">No MRLC, <span class="math inline">\(\epsilon \overset{\underset{\mathrm{i.i.d.}}{}}{\sim}  \mathcal N(0, \sigma^2\mathbf I)\)</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="fragment">Não conhecemos <span class="math inline">\(\alpha\)</span>, <span class="math inline">\(\beta\)</span>, <span class="math inline">\(\epsilon\)</span> e <span class="math inline">\(\sigma\)</span>
<ul>
<li class="fragment">Então estimamos <span class="math inline">\(\hat \alpha\)</span>, <span class="math inline">\(\hat \beta\)</span> e <span class="math inline">\(\hat \sigma\)</span></li>
<li class="fragment">E prevemos <span class="math inline">\(\hat \epsilon\)</span> (os resíduos)</li>
</ul></li>
</ul>
</section>
<section id="solução-do-mrlc" class="slide level2 smaller">
<h2>Solução do MRLC</h2>
<ul>
<li class="fragment"><p>Pode-se demonstrar que a <em>média incondicional</em> é o valor que minimiza o <em>erro médio quadrático</em> (SQE) de uma amostra <span class="citation" data-cites="matloff2009">(<a href="#/referências" role="doc-biblioref" onclick="">Matloff 2009, 57</a>)</span>.</p></li>
<li class="fragment"><p>Dada uma amostra <span class="math inline">\(y = y_1, y_2, \ldots, y_n\)</span>, o valor <span class="math inline">\(c\)</span> que minimiza <span class="math inline">\(1/n\sum_{i=1}^{n}(y_i-c)^2\)</span> é:</p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment"><span id="eq-SQE"><span class="math display">\[
\begin{aligned}
S(c) &amp;= \sum_{i=1}^n (y_i-c)^2 \\
   &amp;= \sum_{i=1}^n (y_i^2 - 2cy_i + c)^2 \\
   &amp;= \sum_{i=1}^n y_i^2  - \sum_{i=1}^n 2cy_i + \sum_{i=1}^n c^2 \\
   &amp;= \sum_{i=1}^n y_i^2 - 2c \sum_{i=1}^n y_i + nc^2
\end{aligned}
\qquad(2)\]</span></span></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment"><span id="eq-MinSQE"><span class="math display">\[
\begin{aligned}
S'(c) &amp;= -2\sum_{i=1}^n y_i + 2nc = 0 \leftrightarrow \\
2nc &amp;=2\sum_{i=1}^n y_i\leftrightarrow  \\
nc &amp;= \sum_{i=1}^n y_i\leftrightarrow \\
c &amp;= \frac{1}{n}\sum_{i=1}^n y_i
\end{aligned}
\qquad(3)\]</span></span></li>
</ul>
</div></div>
<ul>
<li class="fragment">Da mesma forma, na regressão linear, a média condicional é aquela que minimiza os resíduos quadráticos: <span class="math inline">\(1/n\sum(\hat\epsilon_i^2)\)</span></li>
</ul>
</section>
<section id="solução-do-mrlc-1" class="slide level2 smaller">
<h2>Solução do MRLC</h2>
<ul>
<li class="fragment"><p>Ver <span class="citation" data-cites="hochheim">Hochheim (<a href="#/referências" role="doc-biblioref" onclick="">2015, 18</a>)</span>:</p></li>
<li class="fragment"><p><span id="eq-Res"><span class="math display">\[
Z = \sum_{i=1}^n \hat\epsilon_i^2 = \sum_{i=1}^n [y_i - (\alpha + \beta x_i)]^2
\qquad(4)\]</span></span></p></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment"><span id="eq-ZAlpha"><span class="math display">\[
\begin{aligned}
\frac{\partial Z}{\partial \alpha} &amp;= 0 \leftrightarrow \\
\sum_{i=1}^n -2[y_i-(\alpha + \beta x_i)] &amp;= 0 \leftrightarrow \\
\sum_{i=1}^n y_i - \alpha - \beta x_i &amp;= 0 \leftrightarrow \\
\sum_{i=1}^n y_i - \sum_{i=1}^n \alpha - \sum_{i=1}^n \beta x_i  &amp;=0 \leftrightarrow \\
\sum_{i=1}^n y_i - \sum_{i=1}^n \beta x_i &amp;= n\alpha \leftrightarrow \\
\overline y - \beta \overline x &amp;= \alpha
\end{aligned}
\qquad(5)\]</span></span></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment"><span id="eq-ZBeta"><span class="math display">\[
\begin{aligned}
\frac{\partial Z}{\partial \beta} &amp;= 0 \leftrightarrow \\
\sum -2x_i(y_i - (\alpha + \beta x_i)] &amp;= 0 \leftrightarrow \\
\frac{\sum_{i=1}^n(x_i - \overline x)(y_i - \overline y)}{\sum_{i=1}^n(x_i - \overline x)^2} &amp;= \beta
\end{aligned}
\qquad(6)\]</span></span></li>
</ul>
</div></div>
</div>
</section>
<section id="hipóteses" class="slide level2 smaller">
<h2>Hipóteses</h2>
<ul>
<li class="fragment"><p>Até agora derivamos <span class="math inline">\(\hat \alpha\)</span> e <span class="math inline">\(\hat \beta\)</span> sem fazer quaisquer hipóteses quanto à normalidade, homoscedasticidade, etc.</p></li>
<li class="fragment"><p>Se os erros tiverem distribuição normal e variância constante, contudo, então:</p></li>
</ul>
<div class="fragment">
<p><img data-src="img/MRLC.png"></p>
<ul>
<li class="fragment"><span class="math inline">\(\hat\sigma = \sqrt{MSE}\)</span></li>
</ul>
</div>
</section></section>
<section>
<section id="análise-de-variância" class="title-slide slide level1 center">
<h1>Análise de Variância</h1>

</section>
<section id="análise-de-variância-1" class="slide level2">
<h2>Análise de Variância</h2>
<ul>
<li class="fragment">Na regressão simples:</li>
</ul>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Efeito</th>
<th style="text-align: right;">SS</th>
<th style="text-align: right;">GL</th>
<th style="text-align: right;">MQ</th>
<th style="text-align: right;">F</th>
<th style="text-align: right;">p-valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Regressão</td>
<td style="text-align: right;">SQE</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">SQE/1</td>
<td style="text-align: right;">MQE/MQR</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: right;">Resíduos</td>
<td style="text-align: right;">SQR</td>
<td style="text-align: right;">n - 2</td>
<td style="text-align: right;">SQR/(n-2)</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: right;">Total</td>
<td style="text-align: right;">SQT</td>
<td style="text-align: right;">n - 1</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment"><span class="math display">\[SQT = \sum_{i=1}^n (y_i - \overline y)^2\]</span></li>
<li class="fragment"><span class="math display">\[SQR = \sum_{i=1}^n (y_i - \hat \beta x_i)^2\]</span></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment"><span class="math display">\[SQE = SQT - SQR\]</span></li>
<li class="fragment"><span class="math display">\[MSE = \frac{SQR}{n-2}\]</span></li>
</ul>
</div></div>
</div>
</section>
<section id="exemplo" class="slide level2">
<h2>Exemplo</h2>

<img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-10-1.png" width="960" class="r-stretch"></section>
<section id="exemplo-1" class="slide level2">
<h2>Exemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>dados <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/Zeni2.rds"</span>)</span>
<span id="cb9-2"><a href=""></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(PU <span class="sc">~</span> A, <span class="at">data =</span> dados)</span>
<span id="cb9-3"><a href=""></a><span class="fu">anova</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: PU
          Df Sum Sq Mean Sq F value    Pr(&gt;F)    
A          1  18521 18521.3  15.213 0.0009621 ***
Residuals 19  23133  1217.5                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<ul>
<li class="fragment">Com a tabela da Análise de Variância podemos calcular:
<ul>
<li class="fragment"><span class="math inline">\(MSE = \frac{SQR}{21-2} =  \frac{23.133}{19} = 1.217,53\)</span></li>
<li class="fragment"><span class="math inline">\(\hat \sigma = \sqrt{MSE} = \sqrt{1.217,53} = 34,89\)</span></li>
</ul></li>
</ul>
</section>
<section id="exemplo-2" class="slide level2">
<h2>Exemplo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">summary</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = PU ~ A, data = dados)

Residuals:
    Min      1Q  Median      3Q     Max 
-46.756 -23.167  -8.081  24.802  70.152 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 202.655616  18.570539   10.91 1.27e-09 ***
A            -0.006360   0.001631   -3.90 0.000962 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 34.89 on 19 degrees of freedom
Multiple R-squared:  0.4446,    Adjusted R-squared:  0.4154 
F-statistic: 15.21 on 1 and 19 DF,  p-value: 0.0009621</code></pre>
</div>
</div>
<ul>
<li class="fragment">Repare que o <em>p-valor</em> do teste t para o regressor é igual ao <em>p-valor</em> do teste F do slide anterior.
<ul>
<li class="fragment">Este teste é válido?</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="análise-de-resíduos" class="title-slide slide level1 center">
<h1>Análise de Resíduos</h1>

</section>
<section id="análise-de-resíduos-1" class="slide level2 smaller">
<h2>Análise de Resíduos</h2>
<ul>
<li class="fragment">Resíduos não se podem confundir com erros
<ul>
<li class="fragment">Resíduos são previsões para o erro, ajustadas com o modelo de regressão</li>
<li class="fragment">Os resíduos não tem, supostamente, distribuição normal</li>
<li class="fragment">São os resíduos padronizados que apresentam, supostamente, distribuição normal</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="fu">hist</span>(<span class="fu">rstandard</span>(fit))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-13-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="por-que-não-obtemos-normalidade" class="slide level2">
<h2>Por que não obtemos normalidade?</h2>
<ul>
<li class="fragment">Porque os nossos dados (variável resposta) não tem distribuição normal:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">hist</span>(dados<span class="sc">$</span>PU)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="formas-para-lidar-com-a-falta-de-normalidade" class="slide level2">
<h2>Formas para lidar com a falta de normalidade</h2>
<ul>
<li class="fragment">Transformação da variável resposta:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-15-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="testes-de-hipótese-de-intervalos-de-confiança" class="title-slide slide level1 center">
<h1>Testes de Hipótese de Intervalos de Confiança</h1>

</section>
<section id="testes-de-hipótese" class="slide level2">
<h2>Testes de Hipótese</h2>
<ul>
<li class="fragment"><p>Os testes de hipótese para os coeficientes verificam se não se pode descartar a hipótese do coeficiente ser nulo!</p></li>
<li class="fragment"><p>Foi estimado um intercepto e um coeficiente para o modelo <em>RLS</em></p>
<ul>
<li class="fragment">Porém, muito raramente o valor estimado para o coeficiente será zero!</li>
<li class="fragment">Mesmo que o real valor do coeficiente seja zero, é mais provável que a estimação resulte em um outro valor, simplesmente por conta de ruído!</li>
<li class="fragment">Isto não significa que a variável apresenta significância estatística
<ul>
<li class="fragment">Além do coeficiente, um erro-padrão é estimado para a variável explicativa</li>
</ul></li>
<li class="fragment">Na inferência clássica:
<ul>
<li class="fragment"><span class="math display">\[\hat\beta \sim \mathcal N \left (\beta, \frac{\sigma^2}{\sum_{i=1}^n(x_i - \overline x)^2} \right )\]</span></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="intervalos-de-confiança" class="slide level2">
<h2>Intervalos de Confiança</h2>
<ul>
<li class="fragment">Um intervalo de confiança de <span class="math inline">\((1-\alpha)\cdot 100\%\)</span> para <span class="math inline">\(\hat \beta\)</span> pode ser assim calculado:
<ul>
<li class="fragment"><span class="math display">\[\hat\beta \pm t_{\alpha/2, n-2}\cdot \sqrt{\frac{MSE}{\sum_{i=1}^n(x_i - \overline x)^2}}\]</span></li>
</ul></li>
</ul>
</section>
<section id="normalidade" class="slide level2">
<h2>Normalidade</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">shapiro.test</span>(<span class="fu">rstandard</span>(fit))</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  rstandard(fit)
W = 0.92523, p-value = 0.1104</code></pre>
</div>
</div>
<ul>
<li class="fragment"><p>Passa no teste da normalidade (<span class="math inline">\(p &gt; 10\%\)</span>)</p></li>
<li class="fragment"><p>A <span class="citation" data-cites="NBR1465302">ABNT (<a href="#/referências" role="doc-biblioref" onclick="">2011</a>)</span>, contudo, diz:</p>
<ul>
<li class="fragment"><blockquote>
<p>A.3.1 O nível de significância máximo admitido nos demais testes estatísticos (aqueles não citados na Tabela 1) não deve ser superior a 10%.</p>
</blockquote></li>
</ul></li>
<li class="fragment"><p>Portanto deveríamos querer <span class="math inline">\(p &lt; 10\%\)</span>???</p>
<ul>
<li class="fragment">Não, porque no teste de Shapiro-Wilk não queremos rejeitar a hipótese nula!</li>
<li class="fragment">No teste de Shapiro-Wilk a hipótese nula é de que há normalidade!</li>
<li class="fragment">Testes de hipótese são confusos!</li>
</ul></li>
</ul>
</section>
<section id="é-necessário-testar" class="slide level2">
<h2>É necessário testar?</h2>
<ul>
<li class="fragment">O intuito do teste é verificar a hipótese de que o coeficiente é nulo (<span class="math inline">\(\beta = 0\)</span>)</li>
<li class="fragment">Porém, ao construir um intervalo de confiança para <span class="math inline">\(\beta\)</span>, pode-se verificar se o valor zero está dentro do intervalo
<ul>
<li class="fragment">Caso zero esteja dentro do intervalo, não se pode rejeitar a hipótese de que o coeficiente seja nulo, ou seja, de não haver regressão</li>
</ul></li>
<li class="fragment">Os intervalos de confiança obtidos considerando-se a normalidade, devem antes passar pela verificação da hipótese:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">confint</span>(fit)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   2.5 %       97.5 %
(Intercept) 163.78703179 241.52420053
A            -0.00977259  -0.00294693</code></pre>
</div>
</div>
<ul>
<li class="fragment">O intervalo não contém o valor zero!
<ul>
<li class="fragment">O coeficiente é não-nulo!
<ul>
<li class="fragment">Se a hipótese da normalidade for verificada!</li>
</ul></li>
</ul></li>
</ul>
</div>
</section>
<section id="formas-para-lidar-com-a-falta-de-normalidade-1" class="slide level2">
<h2>Formas para lidar com a falta de normalidade</h2>
<ul>
<li class="fragment">Não utilizar a inferência clássica
<ul>
<li class="fragment">É possível criar intervalos de confiança de outras formas
<ul>
<li class="fragment">P. Ex.: <em>Bootstrap</em></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="bootstrap" class="slide level2">
<h2><em>Bootstrap</em></h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  term           .lower .estimate    .upper .alpha .method   
  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;     
1 (Intercept) 157.      201.      243.        0.05 percentile
2 A            -0.00957  -0.00620  -0.00278   0.05 percentile</code></pre>
</div>

</div>
<img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch"><ul>
<li class="fragment">O intervalo obtido pelo <em>bootstrap</em> é um pouco mais amplo do que o IC Normal!</li>
</ul>
</section></section>
<section>
<section id="r2-vs.-hat-sigma" class="title-slide slide level1 center">
<h1><span class="math inline">\(R^2\)</span> <em>vs.</em> <span class="math inline">\(\hat \sigma\)</span></h1>

</section>
<section id="r2-vs.-hat-sigma-1" class="slide level2">
<h2><span class="math inline">\(R^2\)</span> <em>vs.</em> <span class="math inline">\(\hat \sigma\)</span></h2>
<ul>
<li class="fragment">Uma estatística muito popular é o coeficiente de determinação (<span class="math inline">\(R^2\)</span>);</li>
<li class="fragment">O melhor modelo de regressão, porém, nem sempre será aquele com maior <span class="math inline">\(R^2\)</span> ou <span class="math inline">\(R^2_{ajust}\)</span>
<ul>
<li class="fragment"><blockquote>
<p>Alguns pesquisadores se baseiam erroneamente apenas no valor de <span class="math inline">\(R^2\)</span> para escolher o melhor modelo. Entretanto, tão importante quanto termos um <span class="math inline">\(R^2\)</span> próximo de um, é que a estimativa de <span class="math inline">\(\sigma^2\)</span> seja também pequena, pois os intervalos de confiança para os parâmetros de interesse são proporcionais a <span class="math inline">\(\sigma\)</span> <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 12</a>)</span>.</p>
</blockquote></li>
<li class="fragment">O melhor ajuste dos dados da amostra a um modelo não significa que o modelo irá prever valores com precisão fora da amostra</li>
</ul></li>
</ul>
</section>
<section id="r2" class="slide level2">
<h2><span class="math inline">\(R^2\)</span></h2>
<ul>
<li class="fragment">A maneira mais intuitiva de escrever <span class="math inline">\(R^2\)</span> é:
<ul>
<li class="fragment"><span id="eq-R2a"><span class="math display">\[R^2 = 1 - \frac{\text{var}(\epsilon)}{\text{var}(y)} \qquad(7)\]</span></span>
<ul>
<li class="fragment">Interpretação:
<ul>
<li class="fragment">Se o modelo não explicada nada, então <span class="math inline">\(\text{var}(\hat\epsilon) \approx \text{var}(y)\)</span> e <span class="math inline">\(R^2 \approx 0\)</span>;</li>
<li class="fragment">Se, por outro lado, o modelo tem um poder de explicação razoável, então <span class="math inline">\(\text{var}(\hat \epsilon) &lt;&lt; \text{var}(y)\)</span> e então <span class="math inline">\(R^2\)</span> se aproxima de 1.</li>
</ul></li>
</ul></li>
<li class="fragment">Outra forma de escrever <span class="math inline">\(R^2\)</span> <span class="citation" data-cites="GCordeiro2004">(<a href="#/referências" role="doc-biblioref" onclick="">Cordeiro e Lima Neto 2004, 12</a>)</span>:
<ul>
<li class="fragment"><span id="eq-R2b"><span class="math display">\[R^2 = \frac{SQE}{SQT} \qquad(8)\]</span></span></li>
</ul></li>
</ul></li>
<li class="fragment">Uma grande qualidade do <span class="math inline">\(R^2\)</span> está na sua escala (<span class="math inline">\(0 \leq R^2 \leq 1\)</span>)</li>
</ul>
</section>
<section id="hat-sigma" class="slide level2">
<h2><span class="math inline">\(\hat \sigma\)</span></h2>
<ul>
<li class="fragment">É possível, com <span class="math inline">\(\hat \sigma\)</span> ter um entendimento muito interessante do modelo
<ul>
<li class="fragment">No caso do modelo apresentado, vimos que <span class="math inline">\(\hat \sigma = 34,89\)</span></li>
<li class="fragment">Pode-se montar um intervalo de predição aproximado fazendo-se:
<ul>
<li class="fragment"><span class="math inline">\(IP_{95\%} = \hat \mu \pm 2\cdot \hat \sigma = \hat\mu \pm 2\cdot34,89 \approx \hat\mu \pm  70,0\)</span></li>
<li class="fragment"><span class="math inline">\(IP_{80\%} = \hat\mu \pm 1,28\cdot \hat \sigma = \hat\mu \pm 1,28\cdot 34,89 \approx \hat\mu \pm  45,0\)</span></li>
</ul></li>
</ul></li>
<li class="fragment">Conferindo:</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">predict</span>(fit, <span class="at">newdata =</span> <span class="fu">list</span>(<span class="at">A =</span> <span class="dv">10000</span>), </span>
<span id="cb20-2"><a href=""></a>        <span class="at">interval =</span> <span class="st">"prediction"</span>, <span class="at">level =</span> .<span class="dv">95</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      fit      lwr      upr
1 139.058 64.29621 213.8198</code></pre>
</div>
</div>
<ul>
<li class="fragment"><span class="math inline">\((139 - 70; \;139 + 70)\)</span></li>
<li class="fragment"><span class="math inline">\((69; 209)\)</span></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">predict</span>(fit, <span class="at">newdata =</span> <span class="fu">list</span>(<span class="at">A =</span> <span class="dv">10000</span>), </span>
<span id="cb22-2"><a href=""></a>        <span class="at">interval =</span> <span class="st">"prediction"</span>, <span class="at">level =</span> .<span class="dv">80</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      fit      lwr      upr
1 139.058 91.63221 186.4838</code></pre>
</div>
</div>
<ul>
<li class="fragment"><span class="math inline">\((139 - 45; \;139 + 45)\)</span></li>
<li class="fragment"><span class="math inline">\((94; 184)\)</span></li>
</ul>
</div></div>
<ul>
<li class="fragment">A grande vantagem de <span class="math inline">\(\hat \sigma\)</span> é que ela está na mesma escala da variável resposta.</li>
</ul>
</div>
</section>
<section id="hat-sigma-1" class="slide level2">
<h2><span class="math inline">\(\hat \sigma\)</span></h2>

<img data-src="02_RLS_files/figure-revealjs/fig-OLSGeometry-1.png" width="576" class="r-stretch quarto-figure-center" id="fig-OLSGeometry"><p class="caption">
Figura&nbsp;2: Geometria dos Mínimos Quadrados Ordinários
</p></section>
<section id="plotem-os-seus-modelos" class="slide level2">
<h2>Plotem os seus modelos!</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">library</span>(quartets)</span>
<span id="cb24-2"><a href=""></a><span class="fu">data</span>(<span class="st">"anscombe_quartet"</span>)</span>
<span id="cb24-3"><a href=""></a><span class="fu">head</span>(anscombe_quartet, <span class="at">n =</span> <span class="dv">11</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 3
   dataset        x     y
   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
 1 (1) Linear    10  8.04
 2 (1) Linear     8  6.95
 3 (1) Linear    13  7.58
 4 (1) Linear     9  8.81
 5 (1) Linear    11  8.33
 6 (1) Linear    14  9.96
 7 (1) Linear     6  7.24
 8 (1) Linear     4  4.26
 9 (1) Linear    12 10.8 
10 (1) Linear     7  4.82
11 (1) Linear     5  5.68</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">library</span>(quartets)</span>
<span id="cb26-2"><a href=""></a><span class="fu">data</span>(<span class="st">"anscombe_quartet"</span>)</span>
<span id="cb26-3"><a href=""></a><span class="fu">tail</span>(anscombe_quartet, <span class="at">n =</span> <span class="dv">11</span>)</span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 3
   dataset          x     y
   &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
 1 (4) Leverage     8  6.58
 2 (4) Leverage     8  5.76
 3 (4) Leverage     8  7.71
 4 (4) Leverage     8  8.84
 5 (4) Leverage     8  8.47
 6 (4) Leverage     8  7.04
 7 (4) Leverage     8  5.25
 8 (4) Leverage    19 12.5 
 9 (4) Leverage     8  5.56
10 (4) Leverage     8  7.91
11 (4) Leverage     8  6.89</code></pre>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="plotagem-de-modelos" class="title-slide slide level1 center">
<h1>Plotagem de Modelos</h1>

</section>
<section id="plotem-os-seus-modelos-1" class="slide level2">
<h2>Plotem os seus modelos!</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call: lm(formula = y ~ x, data = anscombe_quartet, subset = dataset == "(1)
         Linear")

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)   3.0001     1.1247   2.667  0.02573 * 
x             0.5001     0.1179   4.241  0.00217 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard deviation: 1.237 on 9 degrees of freedom
Multiple R-squared: 0.6665
F-statistic: 17.99 on 1 and 9 DF,  p-value: 0.00217 
  AIC   BIC 
39.68 40.88 </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call: lm(formula = y ~ x, data = anscombe_quartet, subset = dataset == "(2)
         Nonlinear")

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)    3.001      1.125   2.667  0.02576 * 
x              0.500      0.118   4.239  0.00218 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard deviation: 1.237 on 9 degrees of freedom
Multiple R-squared: 0.6662
F-statistic: 17.97 on 1 and 9 DF,  p-value: 0.002179 
  AIC   BIC 
39.69 40.89 </code></pre>
</div>
</div>
</div></div>
</section>
<section id="plotem-os-seus-modelos-2" class="slide level2">
<h2>Plotem os seus modelos!</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call: lm(formula = y ~ x, data = anscombe_quartet, subset = dataset == "(3)
         Outlier")

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)   3.0025     1.1245   2.670  0.02562 * 
x             0.4997     0.1179   4.239  0.00218 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard deviation: 1.236 on 9 degrees of freedom
Multiple R-squared: 0.6663
F-statistic: 17.97 on 1 and 9 DF,  p-value: 0.002176 
  AIC   BIC 
39.68 40.87 </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call: lm(formula = y ~ x, data = anscombe_quartet, subset = dataset == "(4)
         Leverage")

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)   3.0017     1.1239   2.671  0.02559 * 
x             0.4999     0.1178   4.243  0.00216 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard deviation: 1.236 on 9 degrees of freedom
Multiple R-squared: 0.6667
F-statistic:    18 on 1 and 9 DF,  p-value: 0.002165 
  AIC   BIC 
39.67 40.86 </code></pre>
</div>
</div>
</div></div>
</section>
<section id="plotem-os-seus-modelos-3" class="slide level2">
<h2>Plotem os seus modelos!</h2>

<img data-src="02_RLS_files/figure-revealjs/unnamed-chunk-27-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="elipses-de-dados" class="title-slide slide level1 center">
<h1>Elipses de Dados</h1>

</section>
<section id="elipses-de-dados-1" class="slide level2">
<h2>Elipses de dados</h2>

<img data-src="img/image_Galton.png" class="r-stretch"></section>
<section id="elipses-de-dados-outliers-e-pontos-influenciantes" class="slide level2">
<h2>Elipses de Dados, <em>outliers</em> e pontos influenciantes</h2>

<img data-src="02_RLS_files/figure-revealjs/fig-ellipsis-1.png" width="960" class="r-stretch quarto-figure-center" id="fig-ellipsis"><p class="caption">
Figura&nbsp;3: Elipses de 40%, 68% e 95% dos dados.
</p><ul>
<li class="fragment">Na <a href="#/fig-ellipsis" class="quarto-xref">Figura&nbsp;3</a>, notar que a reta de regressão <strong>não passa</strong> pelo eixo das elipses!</li>
</ul>
</section>
<section id="elipses-e-desvio-padrão" class="slide level2">
<h2>Elipses e desvio-padrão</h2>
<ul>
<li class="fragment">Uma elipse de dados de X% dos dados é a elipse em que estão incluídos X% dos dados em torno da média bivariada <span class="citation" data-cites="Friendly_2013">(<a href="#/referências" role="doc-biblioref" onclick="">Friendly, Monette, e Fox 2013</a>)</span>.
<ul>
<li class="fragment">Dentro da elipse de dados de 40% situam-se os pontos que distam <span class="math inline">\(\pm 1\)</span> DP das médias (univariadas) em ambas as direções</li>
<li class="fragment">Dentro da elipse de 68% situam-se os dados que distam <span class="math inline">\(\pm 1,5\)</span>DP da média bivariada em ambas direções</li>
<li class="fragment">Dentro da elipse de 95% situam-se os dados que distam <span class="math inline">\(\pm 2,45\)</span>DP da média bivariada em ambas as direções</li>
</ul></li>
</ul>
</section>
<section id="elipses-e-desvio-padrão-1" class="slide level2">
<h2>Elipses e desvio-padrão</h2>

<img data-src="img/Galton_sunflower.png" class="r-stretch"></section>
<section id="outliers-e-pontos-influenciantes" class="slide level2">
<h2><em>Outliers</em> e Pontos influenciantes</h2>

<img data-src="img/levdemo21.png" class="r-stretch"></section>
<section id="referências" class="slide level2 smaller scrollable">
<h2>Referências</h2>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-NBR1465302" class="csl-entry" role="listitem">
ABNT. 2011. <em><span>NBR</span> 14653-2: Avaliacao de Bens – Parte 2: Imoveis Urbanos</em>. Rio de Janeiro: Associacao Brasileira de Normas Tecnicas.
</div>
<div id="ref-GCordeiro2004" class="csl-entry" role="listitem">
Cordeiro, Gauss M., e Eufrásio de Andrade Lima Neto. 2004. <em>Modelos Paramétricos</em>. São Paulo: Associação Brasileira de Estatística. <a href="https://www.ufjf.br/clecio_ferreira/files/2013/05/Livro-Gauss-e-Eufrasio.pdf">https://www.ufjf.br/clecio_ferreira/files/2013/05/Livro-Gauss-e-Eufrasio.pdf</a>.
</div>
<div id="ref-Friendly_2013" class="csl-entry" role="listitem">
Friendly, Michael, Georges Monette, e John Fox. 2013. <span>«Elliptical Insights: Understanding Statistical Methods through Elliptical Geometry»</span>. <em>Statistical Science</em> 28 (1). <a href="https://doi.org/10.1214/12-sts402">https://doi.org/10.1214/12-sts402</a>.
</div>
<div id="ref-hochheim" class="csl-entry" role="listitem">
Hochheim, Norberto. 2015. <em>Engenharia de Avaliações - Módulo Básico</em>. Florianópolis: IBAPE - SC.
</div>
<div id="ref-matloff2009" class="csl-entry" role="listitem">
Matloff, Norman Saul. 2009. <em>From <span>A</span>lgorithms to <span>Z</span>-<span>S</span>cores: Probabilistic and Statistical Modeling in Computer Science</em>. Davis, California: Orange Grove Books. <a href="http://heather.cs.ucdavis.edu/~matloff/132/PLN/probstatbook/ProbStatBook.pdf">http://heather.cs.ucdavis.edu/~matloff/132/PLN/probstatbook/ProbStatBook.pdf</a>.
</div>
<div id="ref-zilli2020" class="csl-entry" role="listitem">
Zilli, Carlos Augusto. 2020. <span>«Regressão geograficamente ponderada aplicada na avaliação em massa de imóveis urbanos.»</span> Dissertação de mestrado. Florianópolis, SC: Universidade Federal de Santa Catarina.
</div>
</div>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>VALORÍSTICA</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="02_RLS_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="02_RLS_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="02_RLS_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="02_RLS_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript" charset="utf-8">

      function add_custom_footer() {

        let title_slide = document.querySelector("section#title-slide");

        let title_slide_footer = title_slide.getAttribute('data-footer');

        let footer = document.querySelector('div.footer p');

        let global_footer_text = footer.innerHTML;

    

        if (title_slide.classList.contains('present')) {

          footer.innerHTML = title_slide_footer;

        }

    

        Reveal.on( 'slidechanged' , event => {

            if (event.currentSlide.matches('#title-slide')) {

              footer.innerHTML = title_slide_footer;

            } else {

              footer.innerHTML = global_footer_text;

            }

          });

      };

    

      window.addEventListener("load", (event) => {

        add_custom_footer();

      });

    </script>

    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copiada");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copiada");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>